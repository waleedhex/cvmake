<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù…Ù†Ø´Ø¦ Ø§Ù„Ø³ÙŠØ±Ø© Ø§Ù„Ø°Ø§ØªÙŠØ© Ø§Ù„Ù…ØªÙ‚Ø¯Ù…</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;700&family=Tajawal:wght@300;400;500;700&family=Noto+Sans+Arabic:wght@300;400;500;600;700&family=Amiri:wght@400;700&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/sortablejs@1.15.0/Sortable.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/jspdf@2.5.1/dist/jspdf.umd.min.js"></script>
    <style>
        :root {
            --primary: #0f172a;
            --secondary: #1d4ed8;
            --text: #000000;
            --heading: #0f172a;
            --divider: #e5e7eb;
            --divider-w: 1px;
            --avatar-border: conic-gradient(#4f46e5, #22c55e, #06b6d4, #4f46e5);
            
            /* Ø£Ù„ÙˆØ§Ù† Ø§Ù„Ø®Ø·ÙˆØ· */
            --name-color: #ffffff;
            --heading-color: #ffffff;
            --text-color: #000000;
            --secondary-text-color: #666666;
            
            --base-font: 14px;
            --h1-font: 28px;
            --h2-font: 22px;
            --h3-font: 18px;
            --h4-font: 16px;
            --name-font: 28px;
            --section-gap: 18px;
            --item-gap: 8px;
            --aside-w: 280px;
            --grid-min: 180px;
            --card-min-h: 84px;
            --card-pad: 12px;
            
            --card-radius: 12px;
            --shadow-size: 8px;
            --card-border: 0px solid #e5e7eb;
            
            --font-body: "Cairo", "Tajawal", "Noto Sans Arabic", "Amiri", sans-serif;
            --font-head: "Cairo", "Tajawal", "Noto Sans Arabic", "Amiri", sans-serif;
            --font-name: "Tajawal", "Cairo", "Noto Sans Arabic", "Amiri", sans-serif;
        }
        
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }
        
        body {
            font-family: var(--font-body);
            background-color: #0b1020;
            color: #e5e7eb;
            min-height: 100vh;
            display: grid;
            grid-template-columns: 390px 1fr;
        }
        
        /* Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… */
        .controls {
            background: #0f172a;
            border-inline-end: 1px solid #1f2937;
            padding: 10px;
            overflow-y: auto;
            height: 100vh;
            position: sticky;
            top: 0;
        }
        
        .controls-section {
            background: #0b1222;
            border: 1px solid #1f2937;
            border-radius: 12px;
            margin: 8px 0;
            overflow: hidden;
        }
        
        .section-header {
            padding: 12px 14px;
            font-weight: 800;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: #0f172a;
        }
        
        .section-content {
            padding: 0 12px 12px;
            display: flex;
            flex-direction: column;
            gap: 10px;
        }
        
        .field {
            display: flex;
            flex-direction: column;
            gap: 6px;
            margin: 10px 0;
        }
        
        .stack {
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
            align-items: center;
        }
        
        label.small {
            font-size: 13px;
            opacity: .9;
        }
        
        input[type="text"], input[type="number"], input[type="file"], input[type="range"], input[type="color"], textarea, select {
            width: 100%;
            background: #0b1529;
            color: #e5e7eb;
            border: 1px solid #1f2937;
            border-radius: 10px;
            padding: 8px 10px;
            outline: none;
        }
        
        input[type="color"] {
            width: 40px;
            height: 30px;
            padding: 0;
            border: none;
            cursor: pointer;
        }
        
        input[type="range"] {
            padding: 0;
        }
        
        textarea {
            min-height: 70px;
        }
        
        .btn {
            background: #22c55e;
            color: #052e16;
            border: none;
            padding: 8px 12px;
            border-radius: 10px;
            font-weight: 800;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .btn:hover {
            opacity: 0.9;
            transform: translateY(-2px);
        }
        
        .btn.ghost {
            background: transparent;
            border: 1px solid #1f2937;
            color: #cfe3ff;
        }
        
        .btn.dan {
            background: #ef4444;
            color: #2b0b0b;
        }
        
        .list {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }
        
        .chip {
            display: flex;
            justify-content: space-between;
            align-items: center;
            gap: 8px;
            background: #0b1529;
            border: 1px solid #1f2937;
            padding: 8px 10px;
            border-radius: 10px;
            cursor: move;
        }
        
        .chip .drag-handle {
            cursor: grab;
            color: #9ca3af;
            margin-left: 5px;
        }
        
        .chip .drag-handle:active {
            cursor: grabbing;
        }
        
        .section-controls {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .section-controls select {
            background: #1f2937;
            color: #cfe3ff;
            border: 1px solid #374151;
            border-radius: 6px;
            padding: 4px 8px;
            font-size: 12px;
            min-width: 100px;
        }
        
        .section-controls label {
            font-size: 12px;
            color: #cfe3ff;
            display: flex;
            align-items: center;
            gap: 4px;
        }
        
        .toolbar {
            position: sticky;
            bottom: 0;
            background: #0f172a;
            padding: 8px;
            border-top: 1px solid #1f2937;
            z-index: 2;
        }
        
        /* ØªØ­ÙƒÙ… Ø§Ù„Ø£Ù„ÙˆØ§Ù† */
        .color-palettes {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }
        
        .palette-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 8px;
        }
        
        .palette {
            cursor: pointer;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 2px 4px rgba(0,0,0,0.2);
            transition: transform 0.3s ease;
        }
        
        .palette:hover {
            transform: scale(1.05);
        }
        
        .palette .colors {
            display: flex;
            height: 20px;
        }
        
        .palette .name {
            font-size: 11px;
            text-align: center;
            padding: 3px;
            background: #0b1529;
        }
        
        .color-picker {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
            margin-top: 10px;
        }
        
        .color-control {
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        /* ØªØ­ÙƒÙ… Ø§Ù„Ø£Ø´ÙƒØ§Ù„ ÙˆØ§Ù„Ø£Ø­Ø¬Ø§Ù… */
        .size-controls {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }
        
        .slider-with-preview {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }
        
        .slider-control {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .slider-control input[type="range"] {
            flex: 1;
        }
        
        .slider-control .value {
            min-width: 40px;
            text-align: center;
            font-size: 12px;
            background: #1f2937;
            padding: 4px 8px;
            border-radius: 6px;
        }
        
        /* Ø§Ù„Ù…Ø¹Ø§ÙŠÙ†Ø© */
        .preview {
            padding: 16px;
            display: flex;
            justify-content: center;
            align-items: flex-start;
            overflow: auto;
        }
        
        .a4-container {
            width: 100%;
            display: flex;
            justify-content: center;
            align-items: flex-start;
            padding: 20px;
        }
        
        .a4 {
            width: 210mm;
            min-height: 297mm;
            background: #fff;
            color: var(--text);
            border-radius: 12px;
            box-shadow: 0 20px 60px rgba(0,0,0,.45);
            overflow: hidden;
            position: relative;
            transform-origin: top center;
            transition: transform 0.3s ease;
        }
        
        .cv {
            display: grid;
            grid-template-columns: var(--aside-w) var(--divider-w) 1fr;
            min-height: 297mm; /* A4 height */
            height: 100%;
            font-size: var(--base-font);
            font-family: var(--font-body);
        }
        
        .aside {
            background: linear-gradient(180deg, var(--primary) 0%, var(--secondary) 100%);
            color: #eef2ff;
            padding: 22px;
            display: flex;
            flex-direction: column;
            gap: var(--section-gap);
            min-height: 297mm; /* A4 height */
            height: 100%;
        }
        
        .divider {
            background: var(--divider);
        }
        
        .main {
            padding: 24px 28px;
            display: flex;
            flex-direction: column;
            gap: var(--section-gap);
        }
        
        .row-top {
            display: flex;
            align-items: center;
            gap: 12px;
        }
        
        .avatar {
            width: 96px;
            height: 96px;
            min-width: 96px;
            min-height: 96px;
            border-radius: 50%;
            background: var(--avatar-border);
            padding: 3px;
            flex: 0 0 auto;
        }
        
        .avatar > img {
            width: 100%;
            height: 100%;
            border-radius: 50%;
            object-fit: cover;
            display: block;
            background: #0b1222;
        }
        
        .title-box {
            min-width: 0;
            flex: 1 1 auto;
        }
        
        .name {
            font-weight: 900;
            line-height: 1.2;
            font-size: var(--name-font);
            color: var(--name-color);
            word-break: break-word;
            font-family: var(--font-name);
        }
        
        .role {
            opacity: .95;
            margin-top: 4px;
            color: var(--secondary-text-color);
        }
        
        .section {
            display: flex;
            flex-direction: column;
            gap: var(--item-gap);
        }
        
        .section h3 {
            margin: 0;
            color: var(--heading-color);
            font-size: var(--h3-font);
            font-family: var(--font-head);
        }
        
        .tag {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 6px 10px;
            border-radius: 999px;
            background: #eef2ff;
            color: #1f2937;
            font-weight: 800;
            font-size: 12px;
            cursor: move;
            margin: 2px;
        }
        
        .kv {
            display: grid;
            grid-template-columns: auto 1fr;
            gap: var(--item-gap) 10px;
            font-size: calc(var(--base-font)*.95);
        }
        
        .summary {
            background: #f8fafc;
            border: 1px solid #e5e7eb;
            padding: var(--card-pad);
            border-radius: var(--card-radius);
        }
        
        /* Ù…Ù‡Ø§Ø±Ø§Øª */
        .skill-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(var(--grid-min), 1fr));
            gap: var(--item-gap);
            align-items: start;
        }
        
        .skill {
            background: #ffffff;
            border-radius: var(--card-radius);
            padding: var(--card-pad);
            box-shadow: 0 4px var(--shadow-size) rgba(2,6,23,.08);
            display: flex;
            flex-direction: row;
            align-items: center;
            gap: 12px;
            min-height: var(--card-min-h);
            border: var(--card-border);
        }
        
        .skill .label {
            font-weight: 800;
            font-size: 13px;
            color: #000000;
            word-wrap: break-word;
            overflow-wrap: break-word;
            text-align: right;
            flex: 1;
            margin-right: 8px;
        }
        
        .gauge-container {
            width: 50px;
            height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
        }
        
        .gauge svg {
            width: 100%;
            height: 100%;
        }
        
        .g-bg {
            stroke: #e5e7eb;
            fill: none;
        }
        
        .g-ring {
            fill: none;
            stroke-linecap: round;
            transform: rotate(-90deg);
            transform-origin: 50% 50%;
        }
        
        .g-center {
            font-size: 12px;
            font-weight: bold;
            text-anchor: middle;
            dominant-baseline: middle;
            fill: var(--text-color);
        }
        
        .bar {
            width: 50px;
            height: 8px;
            background: #e5e7eb;
            border-radius: 4px;
            overflow: hidden;
            flex-shrink: 0;
        }
        
        .bar span {
            display: block;
            height: 100%;
            border-radius: 4px;
            background: var(--skill-color, var(--secondary));
        }
        
        .stars {
            color: var(--skill-color, gold);
            font-size: 14px;
            width: 50px;
            text-align: center;
            flex-shrink: 0;
        }
        
        /* Ø¹Ø±Ø¶ Ø´Ø¨ÙƒÙŠ Ù„Ù„Ø®Ø¨Ø±Ø§Øª ÙˆØ§Ù„ØªØ¹Ù„ÙŠÙ… ÙˆØ§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¥Ø¶Ø§ÙÙŠØ© */
        .grid-layout {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 12px;
            align-items: start;
            width: 100%;
        }
        
        /* Ù„Ù„Ø´Ø§Ø´Ø§Øª Ø§Ù„ÙƒØ¨ÙŠØ±Ø© - 3-4 Ø¹Ù†Ø§ØµØ± ÙÙŠ Ø§Ù„ØµÙ */
        @media (min-width: 900px) {
            .grid-layout {
                grid-template-columns: repeat(3, 1fr);
                gap: 16px;
            }
        }
        
        @media (min-width: 1200px) {
            .grid-layout {
                grid-template-columns: repeat(4, 1fr);
                gap: 16px;
            }
        }
        
        .experience-item, .education-item, .extra-data-item {
            background: #f8fafc;
            border: var(--card-border);
            border-radius: var(--card-radius);
            padding: var(--card-pad);
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            transition: transform 0.2s ease, box-shadow 0.2s ease;
            width: 100%;
            box-sizing: border-box;
        }
        
        .experience-item:hover, .education-item:hover, .extra-data-item:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.15);
        }
        
        /* ØªØ­Ø³ÙŠÙ† Ø§Ù„Ø¹Ø±Ø¶ Ø§Ù„Ø´Ø¨ÙƒÙŠ Ø¹Ù„Ù‰ Ø§Ù„Ø´Ø§Ø´Ø§Øª Ø§Ù„ØµØºÙŠØ±Ø© */
        @media (max-width: 768px) {
            .grid-layout {
                grid-template-columns: repeat(2, 1fr);
                gap: 10px;
            }
        }
        
        @media (max-width: 480px) {
            .grid-layout {
                grid-template-columns: 1fr;
                gap: 8px;
            }
        }
        
        /* Ù†Ø§ÙØ°Ø© Ø§Ù„Ø¯ÙØ¹ */
        .modal {
            position: fixed;
            inset: 0;
            background: rgba(0,0,0,0.6);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 9999;
        }
        
        .modal.hidden {
            display: none;
        }
        
        .modal-content {
            background: #fff;
            color: #111;
            padding: 24px;
            border-radius: 12px;
            max-width: 420px;
            width: 92%;
            text-align: center;
            box-shadow: 0 10px 30px rgba(0,0,0,0.4);
            line-height: 1.7;
        }
        
        .modal-actions {
            display: flex;
            justify-content: space-around;
            gap: 10px;
            margin-top: 18px;
        }
        
        /* ØªÙØ§ØµÙŠÙ„ Ù‚Ø§Ø¨Ù„Ø© Ù„Ù„Ø·ÙŠ */
        details {
            border: 1px solid #1f2937;
            border-radius: 12px;
            margin: 8px 0;
            background: #0b1222;
            overflow: hidden;
            transition: all 0.3s ease;
        }
        
        details[open] {
            background: #0f172a;
        }
        
        summary {
            cursor: pointer;
            padding: 12px 14px;
            font-weight: 800;
            list-style: none;
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: #0f172a;
            transition: all 0.3s ease;
            position: relative;
        }
        
        summary:hover {
            background: #1f2937;
        }
        
        summary::-webkit-details-marker {
            display: none;
        }
        
        summary::after {
            content: 'â–¼';
            font-size: 12px;
            transition: transform 0.3s ease;
            color: #9ca3af;
        }
        
        details[open] summary::after {
            transform: rotate(180deg);
        }
        
        /* Ø§Ù„Ø³Ø­Ø¨ ÙˆØ§Ù„Ø¥ÙÙ„Ø§Øª */
        .sortable-ghost {
            opacity: 0.8;
            background: rgba(29, 78, 216, 0.2);
            border: 2px dashed #1d4ed8;
        }
        
        .sortable-chosen {
            opacity: 1;
            transform: scale(1.02);
        }
        
        .sortable-drag {
            opacity: 0.9;
            transform: rotate(2deg);
        }
        
        /* Ø¹Ø±Ø¶ Ø§Ù„Ø¬ÙˆØ§Ù„ */
        @media (max-width: 768px) {
            body {
                grid-template-columns: 1fr;
                grid-template-rows: 50vh 50vh;
            }
            
            .controls {
                height: 50vh;
                position: relative;
            }
            
            .preview {
                height: 50vh;
                position: relative;
                background: #1f2937;
            }
            
            .a4 {
                width: 100%;
                min-height: auto;
                transform: scale(0.5);
                transform-origin: top center;
            }
            
            /* Ø§Ù„Ø­ÙØ§Ø¸ Ø¹Ù„Ù‰ Ø§Ù„ØªØ®Ø·ÙŠØ· Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠ Ù…Ø¹ ØªØµØºÙŠØ± Ø§Ù„Ø´Ø±ÙŠØ· Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠ */
            .cv {
                grid-template-columns: 100px 2px 1fr;
                min-height: auto;
            }
            
            .aside {
                padding: 12px 8px;
                font-size: 10px;
            }
            
            .main {
                padding: 16px 12px;
                font-size: 12px;
            }
            
            /* ØªØµØºÙŠØ± Ø­Ø¬Ù… Ø§Ù„ØµÙˆØ±Ø© Ø§Ù„Ø´Ø®ØµÙŠØ© Ø¹Ù„Ù‰ Ø§Ù„Ø¬ÙˆØ§Ù„ */
            .avatar {
                width: 48px;
                height: 48px;
                min-width: 48px;
                min-height: 48px;
            }
            
            /* ØªØ­Ø³ÙŠÙ† Ø­Ø¬Ù… Ø§Ù„Ø®Ø· Ø¹Ù„Ù‰ Ø§Ù„Ø¬ÙˆØ§Ù„ */
            .name {
                font-size: 16px;
            }
            
            .job-title {
                font-size: 10px;
            }
            
            h3 {
                font-size: 11px;
                margin-bottom: 6px;
            }
            
            /* ØªØµØºÙŠØ± Ø¹Ù†Ø§ØµØ± Ø§Ù„Ø§ØªØµØ§Ù„ */
            .contact-item {
                font-size: 8px;
                margin-bottom: 4px;
            }
            
            /* ØªØµØºÙŠØ± Ø§Ù„Ù…Ù‡Ø§Ø±Ø§Øª */
            .skill-item {
                margin-bottom: 6px;
            }
            
            .skill-name {
                font-size: 9px;
            }
        }
        
        /* Ø¹Ø±Ø¶ Ø§Ù„Ø¬ÙˆØ§Ù„ Ø§Ù„ØµØºÙŠØ± */
        @media (max-width: 480px) {
            .a4 {
                transform: scale(0.4);
            }
            
            .cv {
                grid-template-columns: 80px 2px 1fr;
                font-size: 10px;
            }
            
            .aside {
                padding: 8px 6px;
                font-size: 8px;
            }
            
            .main {
                padding: 12px 8px;
                font-size: 10px;
            }
            
            .avatar {
                width: 36px;
                height: 36px;
                min-width: 36px;
                min-height: 36px;
            }
            
            .name {
                font-size: 14px;
            }
            
            .job-title {
                font-size: 8px;
            }
            
            h3 {
                font-size: 9px;
            }
        }
    </style>
    <script>
        // Ø§Ù„ØªØ£ÙƒØ¯ Ù…Ù† ØªØ­Ù…ÙŠÙ„ Ù…ÙƒØªØ¨Ø© jsPDF
        window.jspdf = window.jspdf || {};
        if (typeof window.jspdf.jsPDF === 'undefined') {
            console.log('ØªÙ‡ÙŠØ¦Ø© Ù…ÙƒØªØ¨Ø© jsPDF...');
            if (typeof window.jsPDF !== 'undefined') {
                window.jspdf.jsPDF = window.jsPDF;
            }
        }
    </script>
</head>
<body>
    <!-- Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… -->
    <div class="controls">
        <!-- Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø´Ø®ØµÙŠØ© -->
        <details open>
            <summary>Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø´Ø®ØµÙŠØ©</summary>
            <div class="section-content">
                <div class="field">
                    <label class="small">Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„</label>
                    <input type="text" id="fullName" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ø³Ù…Ùƒ Ø§Ù„ÙƒØ§Ù…Ù„" oninput="updatePreview()">
                </div>
                <div class="field">
                    <label class="small">Ø§Ù„Ù…Ø³Ù…Ù‰ Ø§Ù„ÙˆØ¸ÙŠÙÙŠ</label>
                    <input type="text" id="jobTitle" placeholder="Ù…Ø·ÙˆØ± ÙˆÙŠØ¨ØŒ Ù…ØµÙ…Ù… Ø¬Ø±Ø§ÙÙŠÙƒ..." oninput="updatePreview()">
                </div>
                <div class="field">
                    <label class="small">Ø§Ù„Ù†Ø¨Ø°Ø© Ø§Ù„Ø´Ø®ØµÙŠØ©</label>
                    <textarea id="summary" placeholder="Ø§ÙƒØªØ¨ Ù†Ø¨Ø°Ø© Ù…Ø®ØªØµØ±Ø© Ø¹Ù†Ùƒ..." oninput="updatePreview()"></textarea>
                </div>
                <div class="field">
                    <label class="small">Ø§Ù„ØµÙˆØ±Ø© Ø§Ù„Ø´Ø®ØµÙŠØ©</label>
                    <input type="file" id="profileImage" accept="image/*" onchange="handleImageUpload(this)">
                </div>
                <div class="field">
                    <label>
                        <input type="checkbox" id="hideImage" onchange="updatePreview()"> Ø¥Ø®ÙØ§Ø¡ Ø§Ù„ØµÙˆØ±Ø© Ø§Ù„Ø´Ø®ØµÙŠØ©
                    </label>
                </div>
                <div class="field">
                    <label>
                        <input type="checkbox" id="hideSummary" onchange="toggleSection('summary')"> Ø¥Ø®ÙØ§Ø¡ Ø§Ù„Ù†Ø¨Ø°Ø© Ø§Ù„Ø´Ø®ØµÙŠØ©
                    </label>
                </div>
            </div>
        </details>

        <!-- Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø§ØªØµØ§Ù„ -->
        <details open>
            <summary>Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø§ØªØµØ§Ù„</summary>
            <div class="section-content">
                <div class="field">
                    <label class="small">Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ</label>
                    <input type="text" id="phone" placeholder="+966 50 123 4567" oninput="updatePreview()">
                </div>
                <div class="field">
                    <label class="small">Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ</label>
                    <input type="text" id="email" placeholder="example@email.com" oninput="updatePreview()">
                </div>
                <div class="field">
                    <label class="small">Ø§Ù„Ø¹Ù†ÙˆØ§Ù†</label>
                    <input type="text" id="address" placeholder="Ø§Ù„Ø±ÙŠØ§Ø¶ØŒ Ø§Ù„Ù…Ù…Ù„ÙƒØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠØ©" oninput="updatePreview()">
                </div>
                <div class="field">
                    <label class="small">Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ</label>
                    <input type="text" id="website" placeholder="www.example.com" oninput="updatePreview()">
                </div>
                <div class="field">
                    <label>
                        <input type="checkbox" id="hideWebsite" onchange="updatePreview()"> Ø¥Ø®ÙØ§Ø¡ Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ
                    </label>
                </div>
                <div class="field">
                    <label>
                        <input type="checkbox" id="hideContact" onchange="toggleSection('contact')"> Ø¥Ø®ÙØ§Ø¡ Ù‚Ø³Ù… Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø§ØªØµØ§Ù„
                    </label>
                </div>
            </div>
        </details>

        <!-- Ø§Ù„Ù…Ù‡Ø§Ø±Ø§Øª -->
        <details open>
            <summary>Ø§Ù„Ù…Ù‡Ø§Ø±Ø§Øª</summary>
            <div class="section-content">
                <div class="field">
                    <label class="small">Ø§Ø³Ù… Ø§Ù„Ù…Ù‡Ø§Ø±Ø©</label>
                    <input type="text" id="skillName" placeholder="JavaScript, Ø§Ù„ØªØµÙ…ÙŠÙ…...">
                </div>
                <div class="field">
                    <label class="small">Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ø¥ØªÙ‚Ø§Ù† (1-100)</label>
                    <input type="number" id="skillLevel" min="1" max="100" value="80">
                </div>
                <div class="field">
                    <label class="small">Ù†ÙˆØ¹ Ø§Ù„Ø¹Ø±Ø¶</label>
                    <select id="skillType">
                        <option value="circle">Ø¯Ø§Ø¦Ø±ÙŠ</option>
                        <option value="bar">Ø´Ø±ÙŠØ·</option>
                        <option value="stars">Ù†Ø¬ÙˆÙ…</option>
                    </select>
                </div>
                <div class="field">
                    <label class="small">Ù„ÙˆÙ† Ø§Ù„Ø´ÙƒÙ„</label>
                    <input type="color" id="skillColor" value="#3b82f6" onchange="updateSkillColor()">
                </div>
                <button class="btn" onclick="addSkill()">Ø¥Ø¶Ø§ÙØ© Ù…Ù‡Ø§Ø±Ø©</button>
                <div class="list" id="skillsList"></div>
                <div class="field">
                    <label>
                        <input type="checkbox" id="hideSkills" onchange="toggleSection('skills')"> Ø¥Ø®ÙØ§Ø¡ Ù‚Ø³Ù… Ø§Ù„Ù…Ù‡Ø§Ø±Ø§Øª
                    </label>
                </div>
            </div>
        </details>

        <!-- Ø§Ù„Ø®Ø¨Ø±Ø§Øª Ø§Ù„Ø¹Ù…Ù„ÙŠØ© -->
        <details open>
            <summary>Ø§Ù„Ø®Ø¨Ø±Ø§Øª Ø§Ù„Ø¹Ù…Ù„ÙŠØ©</summary>
            <div class="section-content">
                <div class="field">
                    <label class="small">Ù†ÙˆØ¹ Ø§Ù„Ø¹Ø±Ø¶</label>
                    <select id="experienceLayout" onchange="updateExperiencesPreview()">
                        <option value="vertical">Ø¹Ù…ÙˆØ¯ÙŠ (ØªÙ‚Ù„ÙŠØ¯ÙŠ)</option>
                        <option value="horizontal">Ø£ÙÙ‚ÙŠ (Ø´Ø¨ÙƒØ©)</option>
                    </select>
                </div>
                <div class="field">
                    <label class="small">Ø§Ù„Ù…Ø³Ù…Ù‰ Ø§Ù„ÙˆØ¸ÙŠÙÙŠ</label>
                    <input type="text" id="expTitle" placeholder="Ù…Ø·ÙˆØ± ÙˆÙŠØ¨ Ø£ÙˆÙ„">
                </div>
                <div class="field">
                    <label class="small">Ø§Ø³Ù… Ø§Ù„Ø´Ø±ÙƒØ©</label>
                    <input type="text" id="expCompany" placeholder="Ø´Ø±ÙƒØ© Ø§Ù„ØªÙ‚Ù†ÙŠØ© Ø§Ù„Ù…ØªÙ‚Ø¯Ù…Ø©">
                </div>
                <div class="field">
                    <label class="small">Ø§Ù„ÙØªØ±Ø© Ø§Ù„Ø²Ù…Ù†ÙŠØ©</label>
                    <input type="text" id="expPeriod" placeholder="2020 - 2023">
                </div>
                <div class="field">
                    <label class="small">Ø§Ù„ÙˆØµÙ</label>
                    <textarea id="expDescription" placeholder="ÙˆØµÙ Ø§Ù„Ù…Ù‡Ø§Ù… ÙˆØ§Ù„Ø¥Ù†Ø¬Ø§Ø²Ø§Øª..."></textarea>
                </div>
                <button class="btn" onclick="addExperience()">Ø¥Ø¶Ø§ÙØ© Ø®Ø¨Ø±Ø©</button>
                <div class="list" id="experiencesList"></div>
                <div class="field">
                    <label>
                        <input type="checkbox" id="hideExperiences" onchange="toggleSection('experiences')"> Ø¥Ø®ÙØ§Ø¡ Ù‚Ø³Ù… Ø§Ù„Ø®Ø¨Ø±Ø§Øª Ø§Ù„Ø¹Ù…Ù„ÙŠØ©
                    </label>
                </div>
            </div>
        </details>

        <!-- Ø§Ù„ØªØ¹Ù„ÙŠÙ… -->
        <details open>
            <summary>Ø§Ù„ØªØ¹Ù„ÙŠÙ…</summary>
            <div class="section-content">
                <div class="field">
                    <label class="small">Ù†ÙˆØ¹ Ø§Ù„Ø¹Ø±Ø¶</label>
                    <select id="educationLayout" onchange="updateEducationPreview()">
                        <option value="vertical">Ø¹Ù…ÙˆØ¯ÙŠ (ØªÙ‚Ù„ÙŠØ¯ÙŠ)</option>
                        <option value="horizontal">Ø£ÙÙ‚ÙŠ (Ø´Ø¨ÙƒØ©)</option>
                    </select>
                </div>
                <div class="field">
                    <label class="small">Ø§Ù„Ø¯Ø±Ø¬Ø© Ø§Ù„Ø¹Ù„Ù…ÙŠØ©</label>
                    <input type="text" id="eduDegree" placeholder="Ø¨ÙƒØ§Ù„ÙˆØ±ÙŠÙˆØ³ Ø¹Ù„ÙˆÙ… Ø§Ù„Ø­Ø§Ø³Ø¨">
                </div>
                <div class="field">
                    <label class="small">Ø§Ø³Ù… Ø§Ù„Ø¬Ø§Ù…Ø¹Ø©</label>
                    <input type="text" id="eduInstitution" placeholder="Ø¬Ø§Ù…Ø¹Ø© Ø§Ù„Ù…Ù„Ùƒ Ø³Ø¹ÙˆØ¯">
                </div>
                <div class="field">
                    <label class="small">Ø³Ù†Ø© Ø§Ù„ØªØ®Ø±Ø¬</label>
                    <input type="text" id="eduYear" placeholder="2020">
                </div>
                <button class="btn" onclick="addEducation()">Ø¥Ø¶Ø§ÙØ© ØªØ¹Ù„ÙŠÙ…</button>
                <div class="list" id="educationList"></div>
                <div class="field">
                    <label>
                        <input type="checkbox" id="hideEducation" onchange="toggleSection('education')"> Ø¥Ø®ÙØ§Ø¡ Ù‚Ø³Ù… Ø§Ù„ØªØ¹Ù„ÙŠÙ…
                    </label>
                </div>
            </div>
        </details>

        <!-- Ø§Ù„Ù„ØºØ§Øª -->
        <details open>
            <summary>Ø§Ù„Ù„ØºØ§Øª</summary>
            <div class="section-content">
                <div class="field">
                    <label class="small">Ø§Ø³Ù… Ø§Ù„Ù„ØºØ©</label>
                    <input type="text" id="langName" placeholder="Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ©">
                </div>
                <div class="field">
                    <label class="small">Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ø¥ØªÙ‚Ø§Ù†</label>
                    <select id="langLevel">
                        <option value="Ù…Ø¨ØªØ¯Ø¦">Ù…Ø¨ØªØ¯Ø¦</option>
                        <option value="Ù…ØªÙˆØ³Ø·">Ù…ØªÙˆØ³Ø·</option>
                        <option value="Ù…ØªÙ‚Ø¯Ù…">Ù…ØªÙ‚Ø¯Ù…</option>
                        <option value="Ø·Ù„ÙŠÙ‚">Ø·Ù„ÙŠÙ‚</option>
                        <option value="Ù„ØºØ© Ø£Ù…">Ù„ØºØ© Ø£Ù…</option>
                    </select>
                </div>
                <button class="btn" onclick="addLanguage()">Ø¥Ø¶Ø§ÙØ© Ù„ØºØ©</button>
                <div class="list" id="languagesList"></div>
                <div class="field">
                    <label>
                        <input type="checkbox" id="hideLanguages" onchange="toggleSection('languages')"> Ø¥Ø®ÙØ§Ø¡ Ù‚Ø³Ù… Ø§Ù„Ù„ØºØ§Øª
                    </label>
                </div>
            </div>
        </details>

        <!-- Ø§Ù„Ù‡ÙˆØ§ÙŠØ§Øª -->
        <details open>
            <summary>Ø§Ù„Ù‡ÙˆØ§ÙŠØ§Øª ÙˆØ§Ù„Ø§Ù‡ØªÙ…Ø§Ù…Ø§Øª</summary>
            <div class="section-content">
                <div class="field">
                    <label class="small">Ù†ÙˆØ¹ Ø§Ù„Ø¹Ø±Ø¶</label>
                    <select id="hobbiesDisplay" onchange="updateHobbiesPreview()">
                        <option value="tags">Ø¹Ù„Ø§Ù…Ø§Øª</option>
                        <option value="list">Ù‚Ø§Ø¦Ù…Ø©</option>
                        <option value="cards">Ø¨Ø·Ø§Ù‚Ø§Øª</option>
                    </select>
                </div>
                <div class="field">
                    <label class="small">Ø§Ø³Ù… Ø§Ù„Ù‡ÙˆØ§ÙŠØ©</label>
                    <input type="text" id="hobbyName" placeholder="Ø§Ù„Ù‚Ø±Ø§Ø¡Ø©">
                </div>
                <div class="field">
                    <label class="small">Ø§Ù„Ø£ÙŠÙ‚ÙˆÙ†Ø©</label>
                    <input type="text" id="hobbyIcon" placeholder="ğŸ“š" maxlength="2">
                </div>
                <div class="field">
                    <label class="small">Ø§Ù„ÙˆØµÙ (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)</label>
                    <input type="text" id="hobbyDescription" placeholder="Ø£Ø­Ø¨ Ù‚Ø±Ø§Ø¡Ø© Ø§Ù„ÙƒØªØ¨ Ø§Ù„ØªÙ‚Ù†ÙŠØ©">
                </div>
                <button class="btn" onclick="addHobby()">Ø¥Ø¶Ø§ÙØ© Ù‡ÙˆØ§ÙŠØ©</button>
                <div class="list" id="hobbiesList"></div>
                <div class="field">
                    <label>
                        <input type="checkbox" id="hideHobbies" onchange="toggleSection('hobbies')"> Ø¥Ø®ÙØ§Ø¡ Ù‚Ø³Ù… Ø§Ù„Ù‡ÙˆØ§ÙŠØ§Øª ÙˆØ§Ù„Ø§Ù‡ØªÙ…Ø§Ù…Ø§Øª
                    </label>
                </div>
            </div>
        </details>

        <!-- Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¥Ø¶Ø§ÙÙŠØ© -->
        <details open>
            <summary>Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¥Ø¶Ø§ÙÙŠØ©</summary>
            <div class="section-content">
                <div class="field">
                    <label class="small">Ù†ÙˆØ¹ Ø§Ù„Ø¹Ø±Ø¶</label>
                    <select id="extraDataDisplay" onchange="updateExtraDataPreview()">
                        <option value="vertical">Ø¹Ù…ÙˆØ¯ÙŠ (ØªÙ‚Ù„ÙŠØ¯ÙŠ)</option>
                        <option value="grid">Ø£ÙÙ‚ÙŠ (Ø´Ø¨ÙƒØ©)</option>
                    </select>
                </div>
                <div class="field">
                    <label class="small">Ø§Ø³Ù… Ø§Ù„Ù‚Ø³Ù…</label>
                    <input type="text" id="extraSectionName" placeholder="Ø§Ù„Ø¬ÙˆØ§Ø¦Ø²ØŒ Ø§Ù„Ø´Ù‡Ø§Ø¯Ø§ØªØŒ Ø§Ù„Ù…Ø´Ø§Ø±ÙŠØ¹...">
                </div>
                <div class="field">
                    <label class="small">Ø§Ù„Ø¹Ù†ÙˆØ§Ù†</label>
                    <input type="text" id="extraTitle" placeholder="Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ø¹Ù†ØµØ±">
                </div>
                <div class="field">
                    <label class="small">Ø§Ù„ØªÙØ§ØµÙŠÙ„</label>
                    <input type="text" id="extraDetails" placeholder="ØªÙØ§ØµÙŠÙ„ Ø¥Ø¶Ø§ÙÙŠØ©">
                </div>
                <div class="field">
                    <label class="small">Ø§Ù„ØªØ§Ø±ÙŠØ®</label>
                    <input type="text" id="extraDate" placeholder="2023">
                </div>
                <div class="field">
                    <label class="small">Ø§Ù„Ø£ÙŠÙ‚ÙˆÙ†Ø©</label>
                    <input type="text" id="extraIcon" placeholder="ğŸ†" maxlength="2">
                </div>
                <button class="btn" onclick="addExtraData()">Ø¥Ø¶Ø§ÙØ© Ø¹Ù†ØµØ±</button>
                <div class="list" id="extraDataList"></div>
                <div class="field">
                    <label>
                        <input type="checkbox" id="hideExtraData" onchange="toggleSection('extraData')"> Ø¥Ø®ÙØ§Ø¡ Ù‚Ø³Ù… Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¥Ø¶Ø§ÙÙŠØ©
                    </label>
                </div>
            </div>
        </details>

        <!-- ØªØ­ÙƒÙ… Ø§Ù„ØªØµÙ…ÙŠÙ… -->
        <details>
            <summary>ØªØ­ÙƒÙ… Ø§Ù„ØªØµÙ…ÙŠÙ…</summary>
            <div class="section-content">
                <!-- Ø§Ù„Ø®Ø·ÙˆØ· -->
                <div class="field">
                    <label class="small">Ù†ÙˆØ¹ Ø§Ù„Ø®Ø·</label>
                    <select id="fontFamily" onchange="updateFontFamily()">
                        <option value="Cairo">Cairo</option>
                        <option value="Tajawal">Tajawal</option>
                        <option value="Noto Sans Arabic">Noto Sans Arabic</option>
                        <option value="Amiri">Amiri</option>
                    </select>
                </div>

                <!-- Ø§Ù„Ø£Ù„ÙˆØ§Ù† -->
                <div class="field">
                    <label class="small">Ù„ÙˆØ­Ø§Øª Ø§Ù„Ø£Ù„ÙˆØ§Ù†</label>
                    <div class="palette-grid">
                        <div class="palette" onclick="applyColorPalette('#0f172a', '#1d4ed8')">
                            <div class="colors">
                                <div style="background: #0f172a; flex: 1;"></div>
                                <div style="background: #1d4ed8; flex: 1;"></div>
                            </div>
                            <div class="name">Ø£Ø²Ø±Ù‚</div>
                        </div>
                        <div class="palette" onclick="applyColorPalette('#065f46', '#059669')">
                            <div class="colors">
                                <div style="background: #065f46; flex: 1;"></div>
                                <div style="background: #059669; flex: 1;"></div>
                            </div>
                            <div class="name">Ø£Ø®Ø¶Ø±</div>
                        </div>
                        <div class="palette" onclick="applyColorPalette('#7c2d12', '#dc2626')">
                            <div class="colors">
                                <div style="background: #7c2d12; flex: 1;"></div>
                                <div style="background: #dc2626; flex: 1;"></div>
                            </div>
                            <div class="name">Ø£Ø­Ù…Ø±</div>
                        </div>
                        <div class="palette" onclick="applyColorPalette('#581c87', '#7c3aed')">
                            <div class="colors">
                                <div style="background: #581c87; flex: 1;"></div>
                                <div style="background: #7c3aed; flex: 1;"></div>
                            </div>
                            <div class="name">Ø¨Ù†ÙØ³Ø¬ÙŠ</div>
                        </div>
                    </div>
                </div>

                <div class="color-picker">
                    <div class="color-control">
                        <label class="small">Ø§Ù„Ù„ÙˆÙ† Ø§Ù„Ø£Ø³Ø§Ø³ÙŠ</label>
                        <input type="color" id="primaryColor" value="#0f172a" onchange="updateColors()">
                    </div>
                    <div class="color-control">
                        <label class="small">Ø§Ù„Ù„ÙˆÙ† Ø§Ù„Ø«Ø§Ù†ÙˆÙŠ</label>
                        <input type="color" id="secondaryColor" value="#1d4ed8" onchange="updateColors()">
                    </div>
                </div>

                <!-- Ø£Ù„ÙˆØ§Ù† Ø§Ù„Ø®Ø·ÙˆØ· -->
                <div class="color-picker">
                    <div class="color-control">
                        <label class="small">Ù„ÙˆÙ† Ø§Ù„Ø§Ø³Ù…</label>
                        <input type="color" id="nameColor" value="#ffffff" onchange="updateFontColors()">
                    </div>
                    <div class="color-control">
                        <label class="small">Ù„ÙˆÙ† Ø§Ù„Ø¹Ù†Ø§ÙˆÙŠÙ†</label>
                        <input type="color" id="headingColor" value="#ffffff" onchange="updateFontColors()">
                    </div>
                    <div class="color-control">
                        <label class="small">Ù„ÙˆÙ† Ø§Ù„Ù†Øµ Ø§Ù„Ø¹Ø§Ø¯ÙŠ</label>
                        <input type="color" id="textColor" value="#111111" onchange="updateFontColors()">
                    </div>
                    <div class="color-control">
                        <label class="small">Ù„ÙˆÙ† Ø§Ù„Ù†Øµ Ø§Ù„Ø«Ø§Ù†ÙˆÙŠ</label>
                        <input type="color" id="secondaryTextColor" value="#666666" onchange="updateFontColors()">
                    </div>
                </div>

                <!-- Ø£Ø­Ø¬Ø§Ù… Ø§Ù„Ø®Ø·ÙˆØ· -->
                <div class="field">
                    <label class="small">Ø­Ø¬Ù… Ø®Ø· Ø§Ù„Ø§Ø³Ù…</label>
                    <div class="slider-control">
                        <input type="range" id="nameFont" min="16" max="36" value="28" oninput="updateFontSizes()">
                        <span class="value" id="nameFontValue">28px</span>
                    </div>
                </div>

                <div class="field">
                    <label class="small">Ø­Ø¬Ù… Ø®Ø· Ø§Ù„Ø¹Ù†Ø§ÙˆÙŠÙ†</label>
                    <div class="slider-control">
                        <input type="range" id="headingFont" min="14" max="22" value="18" oninput="updateFontSizes()">
                        <span class="value" id="headingFontValue">18px</span>
                    </div>
                </div>

                <div class="field">
                    <label class="small">Ø­Ø¬Ù… Ø§Ù„Ù†Øµ Ø§Ù„Ø¹Ø§Ø¯ÙŠ</label>
                    <div class="slider-control">
                        <input type="range" id="baseFont" min="10" max="18" value="14" oninput="updateFontSizes()">
                        <span class="value" id="baseFontValue">14px</span>
                    </div>
                </div>

                <!-- Ø§Ù„ØªØ¨Ø§Ø¹Ø¯ -->
                <div class="field">
                    <label class="small">Ø§Ù„ØªØ¨Ø§Ø¹Ø¯ Ø¨ÙŠÙ† Ø§Ù„Ø£Ù‚Ø³Ø§Ù…</label>
                    <div class="slider-control">
                        <input type="range" id="sectionGap" min="10" max="40" value="18" oninput="updateSpacing()">
                        <span class="value" id="sectionGapValue">18px</span>
                    </div>
                </div>

                <div class="field">
                    <label class="small">Ø§Ù„ØªØ¨Ø§Ø¹Ø¯ Ø¨ÙŠÙ† Ø§Ù„Ø¹Ù†Ø§ØµØ±</label>
                    <div class="slider-control">
                        <input type="range" id="itemGap" min="5" max="20" value="8" oninput="updateSpacing()">
                        <span class="value" id="itemGapValue">8px</span>
                    </div>
                </div>

                <div class="field">
                    <label class="small">Ø§Ù„Ø­Ø´Ùˆ Ø§Ù„Ø¯Ø§Ø®Ù„ÙŠ Ù„Ù„Ø¨Ø·Ø§Ù‚Ø§Øª</label>
                    <div class="slider-control">
                        <input type="range" id="cardPadding" min="8" max="24" value="12" oninput="updateSpacing()">
                        <span class="value" id="cardPaddingValue">12px</span>
                    </div>
                </div>

                <!-- Ø§Ù„Ø­Ø¯ÙˆØ¯ -->
                <div class="field">
                    <label class="small">Ø³Ù…Ùƒ Ø­Ø¯ÙˆØ¯ Ø§Ù„Ø¨Ø·Ø§Ù‚Ø§Øª</label>
                    <div class="slider-control">
                        <input type="range" id="borderWidth" min="0" max="5" value="0" oninput="updateBorders()">
                        <span class="value" id="borderWidthValue">0px</span>
                    </div>
                </div>

                <div class="field">
                    <label class="small">Ù„ÙˆÙ† Ø§Ù„Ø­Ø¯ÙˆØ¯</label>
                    <input type="color" id="borderColor" value="#e5e7eb" onchange="updateBorders()">
                </div>

                <div class="field">
                    <label class="small">Ø§Ù†Ø­Ù†Ø§Ø¡ Ø§Ù„Ø²ÙˆØ§ÙŠØ§</label>
                    <div class="slider-control">
                        <input type="range" id="borderRadius" min="0" max="20" value="12" oninput="updateBorders()">
                        <span class="value" id="borderRadiusValue">12px</span>
                    </div>
                </div>
            </div>
        </details>

        <!-- ØªØ±ØªÙŠØ¨ Ø§Ù„Ø£Ù‚Ø³Ø§Ù… -->
        <details>
            <summary>ØªØ±ØªÙŠØ¨ Ø§Ù„Ø£Ù‚Ø³Ø§Ù…</summary>
            <div class="section-content">
                <div class="field">
                    <label class="small">ØªØ±ØªÙŠØ¨ ÙˆÙ…ÙˆÙ‚Ø¹ Ø§Ù„Ø£Ù‚Ø³Ø§Ù…</label>
                    <div class="list" id="allSectionsList">
                        <div class="chip" data-section="contact">
                            <span><i class="fas fa-grip-vertical drag-handle"></i> Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø§ØªØµØ§Ù„</span>
                            <div class="section-controls">
                                <select onchange="changeSectionLocation('contact', this.value)">
                                    <option value="sidebar" selected>Ø§Ù„Ø´Ø±ÙŠØ· Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠ</option>
                                    <option value="main">Ø§Ù„Ø¬Ø²Ø¡ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ</option>
                                </select>
                                <label><input type="checkbox" checked onchange="toggleSection('contact', this.checked)"> Ø¥Ø¸Ù‡Ø§Ø±</label>
                            </div>
                        </div>
                        <div class="chip" data-section="skills">
                            <span><i class="fas fa-grip-vertical drag-handle"></i> Ø§Ù„Ù…Ù‡Ø§Ø±Ø§Øª</span>
                            <div class="section-controls">
                                <select onchange="changeSectionLocation('skills', this.value)">
                                    <option value="sidebar" selected>Ø§Ù„Ø´Ø±ÙŠØ· Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠ</option>
                                    <option value="main">Ø§Ù„Ø¬Ø²Ø¡ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ</option>
                                </select>
                                <label><input type="checkbox" checked onchange="toggleSection('skills', this.checked)"> Ø¥Ø¸Ù‡Ø§Ø±</label>
                            </div>
                        </div>
                        <div class="chip" data-section="languages">
                            <span><i class="fas fa-grip-vertical drag-handle"></i> Ø§Ù„Ù„ØºØ§Øª</span>
                            <div class="section-controls">
                                <select onchange="changeSectionLocation('languages', this.value)">
                                    <option value="sidebar" selected>Ø§Ù„Ø´Ø±ÙŠØ· Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠ</option>
                                    <option value="main">Ø§Ù„Ø¬Ø²Ø¡ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ</option>
                                </select>
                                <label><input type="checkbox" checked onchange="toggleSection('languages', this.checked)"> Ø¥Ø¸Ù‡Ø§Ø±</label>
                            </div>
                        </div>
                        <div class="chip" data-section="hobbies">
                            <span><i class="fas fa-grip-vertical drag-handle"></i> Ø§Ù„Ù‡ÙˆØ§ÙŠØ§Øª ÙˆØ§Ù„Ø§Ù‡ØªÙ…Ø§Ù…Ø§Øª</span>
                            <div class="section-controls">
                                <select onchange="changeSectionLocation('hobbies', this.value)">
                                    <option value="sidebar" selected>Ø§Ù„Ø´Ø±ÙŠØ· Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠ</option>
                                    <option value="main">Ø§Ù„Ø¬Ø²Ø¡ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ</option>
                                </select>
                                <label><input type="checkbox" checked onchange="toggleSection('hobbies', this.checked)"> Ø¥Ø¸Ù‡Ø§Ø±</label>
                            </div>
                        </div>
                        <div class="chip" data-section="summary">
                            <span><i class="fas fa-grip-vertical drag-handle"></i> Ø§Ù„Ù†Ø¨Ø°Ø© Ø§Ù„Ø´Ø®ØµÙŠØ©</span>
                            <div class="section-controls">
                                <select onchange="changeSectionLocation('summary', this.value)">
                                    <option value="sidebar">Ø§Ù„Ø´Ø±ÙŠØ· Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠ</option>
                                    <option value="main" selected>Ø§Ù„Ø¬Ø²Ø¡ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ</option>
                                </select>
                                <label><input type="checkbox" checked onchange="toggleSection('summary', this.checked)"> Ø¥Ø¸Ù‡Ø§Ø±</label>
                            </div>
                        </div>
                        <div class="chip" data-section="experiences">
                            <span><i class="fas fa-grip-vertical drag-handle"></i> Ø§Ù„Ø®Ø¨Ø±Ø§Øª Ø§Ù„Ø¹Ù…Ù„ÙŠØ©</span>
                            <div class="section-controls">
                                <select onchange="changeSectionLocation('experiences', this.value)">
                                    <option value="sidebar">Ø§Ù„Ø´Ø±ÙŠØ· Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠ</option>
                                    <option value="main" selected>Ø§Ù„Ø¬Ø²Ø¡ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ</option>
                                </select>
                                <label><input type="checkbox" checked onchange="toggleSection('experiences', this.checked)"> Ø¥Ø¸Ù‡Ø§Ø±</label>
                            </div>
                        </div>
                        <div class="chip" data-section="education">
                            <span><i class="fas fa-grip-vertical drag-handle"></i> Ø§Ù„ØªØ¹Ù„ÙŠÙ…</span>
                            <div class="section-controls">
                                <select onchange="changeSectionLocation('education', this.value)">
                                    <option value="sidebar">Ø§Ù„Ø´Ø±ÙŠØ· Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠ</option>
                                    <option value="main" selected>Ø§Ù„Ø¬Ø²Ø¡ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ</option>
                                </select>
                                <label><input type="checkbox" checked onchange="toggleSection('education', this.checked)"> Ø¥Ø¸Ù‡Ø§Ø±</label>
                            </div>
                        </div>
                        <div class="chip" data-section="extra">
                            <span><i class="fas fa-grip-vertical drag-handle"></i> Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¥Ø¶Ø§ÙÙŠØ©</span>
                            <div class="section-controls">
                                <select onchange="changeSectionLocation('extra', this.value)">
                                    <option value="sidebar">Ø§Ù„Ø´Ø±ÙŠØ· Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠ</option>
                                    <option value="main" selected>Ø§Ù„Ø¬Ø²Ø¡ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ</option>
                                </select>
                                <label><input type="checkbox" checked onchange="toggleSection('extra', this.checked)"> Ø¥Ø¸Ù‡Ø§Ø±</label>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="field">
                    <label class="small">Ø¹Ø±Ø¶ Ø§Ù„Ø´Ø±ÙŠØ· Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠ</label>
                    <select id="sidebarWidth" onchange="updateSidebarWidth()">
                        <option value="240px">Ø¶ÙŠÙ‚ (240px)</option>
                        <option value="280px" selected>Ù…ØªÙˆØ³Ø· (280px)</option>
                        <option value="320px">Ø¹Ø±ÙŠØ¶ (320px)</option>
                        <option value="360px">Ø¹Ø±ÙŠØ¶ Ø¬Ø¯Ø§Ù‹ (360px)</option>
                    </select>
                </div>
                
                <div class="field">
                    <label>
                        <input type="checkbox" id="hideHeader" onchange="toggleHeaderSection()"> Ø¥Ø®ÙØ§Ø¡ Ù‚Ø³Ù… Ø§Ù„Ø§Ø³Ù… ÙˆØ§Ù„ØµÙˆØ±Ø©
                    </label>
                </div>
                
                <button class="btn ghost" onclick="resetSectionsOrder()">Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„ØªØ±ØªÙŠØ¨</button>
            </div>
        </details>

        <!-- Ø´Ø±ÙŠØ· Ø§Ù„Ø£Ø¯ÙˆØ§Øª -->
        <div class="toolbar">
            <button class="btn" onclick="showPaymentModal()">ØªØµØ¯ÙŠØ± PDF</button>
        </div>
    </div>

    <!-- Ø§Ù„Ù…Ø¹Ø§ÙŠÙ†Ø© -->
    <div class="preview">
        <div class="a4-container">
            <div class="a4">
                <div class="cv" id="cvPreview">
                    <!-- Ø§Ù„Ø´Ø±ÙŠØ· Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠ -->
                    <div class="aside">
                        <!-- Ø§Ù„ØµÙˆØ±Ø© ÙˆØ§Ù„Ø§Ø³Ù… -->
                        <div class="row-top" id="headerSection">
                            <div class="avatar" id="avatarContainer">
                                <img id="avatarImg" src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='96' height='96' viewBox='0 0 96 96'%3E%3Ccircle cx='48' cy='48' r='48' fill='%23e5e7eb'/%3E%3Cpath d='M48 48c8.837 0 16-7.163 16-16s-7.163-16-16-16-16 7.163-16 16 7.163 16 16 16zm0 8c-10.664 0-32 5.336-32 16v8h64v-8c0-10.664-21.336-16-32-16z' fill='%23374151'/%3E%3C/svg%3E" alt="Ø§Ù„ØµÙˆØ±Ø© Ø§Ù„Ø´Ø®ØµÙŠØ©">
                            </div>
                            <div class="title-box">
                                <div class="name" id="previewName">Ø§Ø³Ù…Ùƒ Ù‡Ù†Ø§</div>
                                <div class="role" id="previewRole">Ø§Ù„Ù…Ø³Ù…Ù‰ Ø§Ù„ÙˆØ¸ÙŠÙÙŠ</div>
                            </div>
                        </div>

                        <!-- Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø§ØªØµØ§Ù„ -->
                        <div class="section" id="contactSection">
                            <h3>Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø§ØªØµØ§Ù„</h3>
                            <div class="kv" id="contactInfo">
                                <span>ğŸ“</span><span id="previewPhone">+966 50 123 4567</span>
                                <span>âœ‰ï¸</span><span id="previewEmail">example@email.com</span>
                                <span>ğŸ“</span><span id="previewAddress">Ø§Ù„Ø±ÙŠØ§Ø¶ØŒ Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠØ©</span>
                                <span id="websiteIcon">ğŸŒ</span><span id="previewWebsite">www.example.com</span>
                            </div>
                        </div>

                        <!-- Ø§Ù„Ù…Ù‡Ø§Ø±Ø§Øª -->
                        <div class="section" id="skillsSection">
                            <h3>Ø§Ù„Ù…Ù‡Ø§Ø±Ø§Øª</h3>
                            <div class="skill-grid" id="skillsGrid">
                                <!-- Ø§Ù„Ù…Ù‡Ø§Ø±Ø§Øª Ø³ØªØ¸Ù‡Ø± Ù‡Ù†Ø§ -->
                            </div>
                        </div>

                        <!-- Ø§Ù„Ù„ØºØ§Øª -->
                        <div class="section" id="languagesSection">
                            <h3>Ø§Ù„Ù„ØºØ§Øª</h3>
                            <div class="kv" id="languagesGrid">
                                <!-- Ø§Ù„Ù„ØºØ§Øª Ø³ØªØ¸Ù‡Ø± Ù‡Ù†Ø§ -->
                            </div>
                        </div>

                        <!-- Ø§Ù„Ù‡ÙˆØ§ÙŠØ§Øª -->
                        <div class="section" id="hobbiesSection">
                            <h3>Ø§Ù„Ù‡ÙˆØ§ÙŠØ§Øª ÙˆØ§Ù„Ø§Ù‡ØªÙ…Ø§Ù…Ø§Øª</h3>
                            <div id="hobbiesGrid">
                                <!-- Ø§Ù„Ù‡ÙˆØ§ÙŠØ§Øª Ø³ØªØ¸Ù‡Ø± Ù‡Ù†Ø§ -->
                            </div>
                        </div>
                    </div>

                    <!-- Ø§Ù„ÙØ§ØµÙ„ -->
                    <div class="divider"></div>

                    <!-- Ø§Ù„Ù‚Ø³Ù… Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ -->
                    <div class="main">
                        <!-- Ø§Ù„Ù†Ø¨Ø°Ø© Ø§Ù„Ø´Ø®ØµÙŠØ© -->
                        <div class="section" id="summarySection">
                            <h3>Ø§Ù„Ù†Ø¨Ø°Ø© Ø§Ù„Ø´Ø®ØµÙŠØ©</h3>
                            <div class="summary" id="previewSummary" style="white-space: pre-wrap; word-break: break-word; color: var(--text-color);">
                                Ø§ÙƒØªØ¨ Ù†Ø¨Ø°Ø© Ù…Ø®ØªØµØ±Ø© Ø¹Ù† Ø®Ø¨Ø±Ø§ØªÙƒ ÙˆÙ…Ù‡Ø§Ø±Ø§ØªÙƒ ÙˆØ£Ù‡Ø¯Ø§ÙÙƒ Ø§Ù„Ù…Ù‡Ù†ÙŠØ©...
                            </div>
                        </div>

                        <!-- Ø§Ù„Ø®Ø¨Ø±Ø§Øª Ø§Ù„Ø¹Ù…Ù„ÙŠØ© -->
                        <div class="section" id="experiencesSection">
                            <h3>Ø§Ù„Ø®Ø¨Ø±Ø§Øª Ø§Ù„Ø¹Ù…Ù„ÙŠØ©</h3>
                            <div id="experiencesGrid">
                                <!-- Ø§Ù„Ø®Ø¨Ø±Ø§Øª Ø³ØªØ¸Ù‡Ø± Ù‡Ù†Ø§ -->
                            </div>
                        </div>

                        <!-- Ø§Ù„ØªØ¹Ù„ÙŠÙ… -->
                        <div class="section" id="educationSection">
                            <h3>Ø§Ù„ØªØ¹Ù„ÙŠÙ…</h3>
                            <div id="educationGrid">
                                <!-- Ø§Ù„ØªØ¹Ù„ÙŠÙ… Ø³ÙŠØ¸Ù‡Ø± Ù‡Ù†Ø§ -->
                            </div>
                        </div>

                        <!-- Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¥Ø¶Ø§ÙÙŠØ© -->
                        <div id="extraSections">
                            <!-- Ø§Ù„Ø£Ù‚Ø³Ø§Ù… Ø§Ù„Ø¥Ø¶Ø§ÙÙŠØ© Ø³ØªØ¸Ù‡Ø± Ù‡Ù†Ø§ -->
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Ù†Ø§ÙØ°Ø© Ø§Ù„Ø¯ÙØ¹ -->
    <div class="modal hidden" id="paymentModal">
        <div class="modal-content">
            <h3>ØªØµØ¯ÙŠØ± Ø§Ù„Ø³ÙŠØ±Ø© Ø§Ù„Ø°Ø§ØªÙŠØ©</h3>
            <p>Ù†ØªÙ…Ù†Ù‰ Ø£Ù†Ùƒ Ø§Ø³ØªÙØ¯Øª Ù…Ù† Ø§Ù„Ø£Ø¯Ø§Ø© Ø¹Ù„Ù…Ø§Ù‹ Ø£Ù† Ø³Ø¹Ø± Ø§Ù„Ù†Ø³Ø®Ø© Ù©.Ù©Ù© Ø±ÙŠØ§Ù„</p>
            <div class="modal-actions">
                <button class="btn ghost" onclick="downloadPDF()">Ø¥ØºÙ„Ø§Ù‚</button>
                <button class="btn" onclick="payAndDownload()">Ø¯ÙØ¹</button>
            </div>
        </div>
    </div>

    <script>
        // Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
        let cvData = {
            personal: {
                name: '',
                title: '',
                summary: '',
                image: '',
                hideImage: false
            },
            contact: {
                phone: '',
                email: '',
                address: '',
                website: '',
                hideWebsite: false
            },
            skills: [],
            experiences: [],
            education: [],
            languages: [],
            hobbies: [],
            extraSections: {}
        };

        // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ø¹Ø§ÙŠÙ†Ø©
        function updatePreview() {
            // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø´Ø®ØµÙŠØ©
            const name = document.getElementById('fullName').value || 'Ø§Ø³Ù…Ùƒ Ù‡Ù†Ø§';
            const title = document.getElementById('jobTitle').value || 'Ø§Ù„Ù…Ø³Ù…Ù‰ Ø§Ù„ÙˆØ¸ÙŠÙÙŠ';
            const summary = document.getElementById('summary').value || 'Ø§ÙƒØªØ¨ Ù†Ø¨Ø°Ø© Ù…Ø®ØªØµØ±Ø© Ø¹Ù† Ø®Ø¨Ø±Ø§ØªÙƒ ÙˆÙ…Ù‡Ø§Ø±Ø§ØªÙƒ ÙˆØ£Ù‡Ø¯Ø§ÙÙƒ Ø§Ù„Ù…Ù‡Ù†ÙŠØ©...';
            
            document.getElementById('previewName').textContent = name;
            document.getElementById('previewRole').textContent = title;
            document.getElementById('previewSummary').innerHTML = summary.replace(/\n/g, '<br>');

            // ØªØ­Ø¯ÙŠØ« Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø§ØªØµØ§Ù„
            const phone = document.getElementById('phone').value || '+966 50 123 4567';
            const email = document.getElementById('email').value || 'example@email.com';
            const address = document.getElementById('address').value || 'Ø§Ù„Ø±ÙŠØ§Ø¶ØŒ Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠØ©';
            const website = document.getElementById('website').value || 'www.example.com';
            
            document.getElementById('previewPhone').textContent = phone;
            document.getElementById('previewEmail').textContent = email;
            document.getElementById('previewAddress').textContent = address;
            document.getElementById('previewWebsite').textContent = website;

            // Ø¥Ø®ÙØ§Ø¡/Ø¥Ø¸Ù‡Ø§Ø± Ø§Ù„ØµÙˆØ±Ø©
            const hideImage = document.getElementById('hideImage').checked;
            document.getElementById('avatarContainer').style.display = hideImage ? 'none' : 'block';

            // Ø¥Ø®ÙØ§Ø¡/Ø¥Ø¸Ù‡Ø§Ø± Ø§Ù„Ù…ÙˆÙ‚Ø¹
            const hideWebsite = document.getElementById('hideWebsite').checked;
            document.getElementById('websiteIcon').style.display = hideWebsite ? 'none' : 'inline';
            document.getElementById('previewWebsite').style.display = hideWebsite ? 'none' : 'inline';

            // Ø­ÙØ¸ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
            cvData.personal = { name, title, summary, hideImage };
            cvData.contact = { phone, email, address, website, hideWebsite };
        }

        // Ø±ÙØ¹ Ø§Ù„ØµÙˆØ±Ø©
        function handleImageUpload(input) {
            if (input.files && input.files[0]) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    document.getElementById('avatarImg').src = e.target.result;
                    cvData.personal.image = e.target.result;
                };
                reader.readAsDataURL(input.files[0]);
            }
        }

        // Ø¥Ø¶Ø§ÙØ© Ù…Ù‡Ø§Ø±Ø©
        function addSkill() {
            const name = document.getElementById('skillName').value;
            const level = parseInt(document.getElementById('skillLevel').value);
            const type = document.getElementById('skillType').value;
            const color = document.getElementById('skillColor').value;
            
            if (!name) return;

            const skill = { name, level, type, color, id: Date.now() };
            cvData.skills.push(skill);
            
            updateSkillsList();
            updateSkillsPreview();
            
            // Ù…Ø³Ø­ Ø§Ù„Ø­Ù‚ÙˆÙ„
            document.getElementById('skillName').value = '';
            document.getElementById('skillLevel').value = '80';
        }

        // Ø­Ø°Ù Ù…Ù‡Ø§Ø±Ø©
        function removeSkill(id) {
            cvData.skills = cvData.skills.filter(skill => skill.id !== id);
            updateSkillsList();
            updateSkillsPreview();
        }

        // ØªØ­Ø¯ÙŠØ« Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ù‡Ø§Ø±Ø§Øª
        function updateSkillsList() {
            const skillsList = document.getElementById('skillsList');
            skillsList.innerHTML = '';
            cvData.skills.forEach(skill => {
                const skillItem = document.createElement('div');
                skillItem.className = 'chip';
                skillItem.innerHTML = `
                    <span><i class="fas fa-grip-vertical drag-handle"></i> ${skill.name} (${skill.level}%)</span>
                    <button class="btn dan" onclick="removeSkill(${skill.id})">Ã—</button>
                `;
                skillsList.appendChild(skillItem);
            });
            
            // ØªÙØ¹ÙŠÙ„ Ø§Ù„Ø³Ø­Ø¨ ÙˆØ§Ù„Ø¥ÙÙ„Ø§Øª
            new Sortable(skillsList, {
                animation: 150,
                ghostClass: 'sortable-ghost',
                chosenClass: 'sortable-chosen',
                dragClass: 'sortable-drag',
                handle: '.drag-handle',
                onEnd: function(evt) {
                    // Ø¥Ø¹Ø§Ø¯Ø© ØªØ±ØªÙŠØ¨ Ø§Ù„Ù…ØµÙÙˆÙØ©
                    const item = cvData.skills.splice(evt.oldIndex, 1)[0];
                    cvData.skills.splice(evt.newIndex, 0, item);
                    updateSkillsPreview();
                }
            });
        }

        // ØªØ­Ø¯ÙŠØ« Ù…Ø¹Ø§ÙŠÙ†Ø© Ø§Ù„Ù…Ù‡Ø§Ø±Ø§Øª
        function updateSkillsPreview() {
            const skillsGrid = document.getElementById('skillsGrid');
            skillsGrid.innerHTML = '';
            
            cvData.skills.forEach(skill => {
                const skillElement = document.createElement('div');
                skillElement.className = 'skill';
                
                let gauge = '';
                const skillColor = skill.color || '#3b82f6';
                
                if (skill.type === 'circle') {
                    const circumference = 2 * Math.PI * 18;
                    const strokeDasharray = (skill.level / 100) * circumference;
                    gauge = `
                        <div class="gauge-container">
                            <svg class="gauge" viewBox="0 0 40 40">
                                <circle class="g-bg" cx="20" cy="20" r="18" stroke-width="4"/>
                                <circle class="g-ring" cx="20" cy="20" r="18" stroke-width="4" 
                                        stroke="${skillColor}" 
                                        stroke-dasharray="${strokeDasharray} ${circumference}"/>
                                <text class="g-center" x="20" y="20">${skill.level}%</text>
                            </svg>
                        </div>
                    `;
                } else if (skill.type === 'bar') {
                    gauge = `
                        <div class="bar">
                            <span style="width: ${skill.level}%; background: ${skillColor};"></span>
                        </div>
                    `;
                } else if (skill.type === 'stars') {
                    const stars = Math.round(skill.level / 20);
                    gauge = `<div class="stars" style="color: ${skillColor};">${'â˜…'.repeat(stars)}${'â˜†'.repeat(5-stars)}</div>`;
                }
                
                skillElement.innerHTML = `
                    ${gauge}
                    <div class="label">${skill.name}</div>
                `;
                skillsGrid.appendChild(skillElement);
            });
        }

        // ØªØ­Ø¯ÙŠØ« Ù„ÙˆÙ† Ø§Ù„Ù…Ù‡Ø§Ø±Ø§Øª
        function updateSkillColor() {
            const newColor = document.getElementById('skillColor').value;
            // ØªØ­Ø¯ÙŠØ« Ù„ÙˆÙ† Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ù‡Ø§Ø±Ø§Øª Ø§Ù„Ù…ÙˆØ¬ÙˆØ¯Ø©
            cvData.skills.forEach(skill => {
                skill.color = newColor;
            });
            updateSkillsPreview();
        }

        // Ù„ÙˆÙ† Ø§Ù„Ù…Ù‡Ø§Ø±Ø© Ø­Ø³Ø¨ Ø§Ù„Ù…Ø³ØªÙˆÙ‰
        function getSkillColor(level) {
            if (level >= 80) return '#22c55e';
            if (level >= 60) return '#3b82f6';
            if (level >= 40) return '#f59e0b';
            return '#ef4444';
        }

        // Ø¥Ø¶Ø§ÙØ© Ø®Ø¨Ø±Ø©
        function addExperience() {
            const title = document.getElementById('expTitle').value;
            const company = document.getElementById('expCompany').value;
            const period = document.getElementById('expPeriod').value;
            const description = document.getElementById('expDescription').value;
            
            if (!title || !company) return;

            const experience = { title, company, period, description, id: Date.now() };
            cvData.experiences.push(experience);
            
            updateExperiencesList();
            updateExperiencesPreview();
            
            // Ù…Ø³Ø­ Ø§Ù„Ø­Ù‚ÙˆÙ„
            document.getElementById('expTitle').value = '';
            document.getElementById('expCompany').value = '';
            document.getElementById('expPeriod').value = '';
            document.getElementById('expDescription').value = '';
        }

        // Ø­Ø°Ù Ø®Ø¨Ø±Ø©
        function removeExperience(id) {
            cvData.experiences = cvData.experiences.filter(exp => exp.id !== id);
            updateExperiencesList();
            updateExperiencesPreview();
        }

        // ØªØ­Ø¯ÙŠØ« Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø®Ø¨Ø±Ø§Øª
        function updateExperiencesList() {
            const experiencesList = document.getElementById('experiencesList');
            experiencesList.innerHTML = '';
            cvData.experiences.forEach(exp => {
                const expItem = document.createElement('div');
                expItem.className = 'chip';
                expItem.innerHTML = `
                    <span><i class="fas fa-grip-vertical drag-handle"></i> ${exp.title} - ${exp.company}</span>
                    <button class="btn dan" onclick="removeExperience(${exp.id})">Ã—</button>
                `;
                experiencesList.appendChild(expItem);
            });
            
            // ØªÙØ¹ÙŠÙ„ Ø§Ù„Ø³Ø­Ø¨ ÙˆØ§Ù„Ø¥ÙÙ„Ø§Øª
            new Sortable(experiencesList, {
                animation: 150,
                ghostClass: 'sortable-ghost',
                chosenClass: 'sortable-chosen',
                dragClass: 'sortable-drag',
                handle: '.drag-handle',
                onEnd: function(evt) {
                    const item = cvData.experiences.splice(evt.oldIndex, 1)[0];
                    cvData.experiences.splice(evt.newIndex, 0, item);
                    updateExperiencesPreview();
                }
            });
        }

        // ØªØ­Ø¯ÙŠØ« Ù…Ø¹Ø§ÙŠÙ†Ø© Ø§Ù„Ø®Ø¨Ø±Ø§Øª
        function updateExperiencesPreview() {
            const experiencesGrid = document.getElementById('experiencesGrid');
            const layout = document.getElementById('experienceLayout').value;
            
            experiencesGrid.innerHTML = '';
            experiencesGrid.className = layout === 'horizontal' ? 'grid-layout' : '';
            
            cvData.experiences.forEach(exp => {
                const expElement = document.createElement('div');
                expElement.className = layout === 'horizontal' ? 'experience-item' : '';
                expElement.style.marginBottom = layout === 'vertical' ? '16px' : '0';
                expElement.innerHTML = `
                    <div style="font-weight: bold; color: var(--heading);">${exp.title}</div>
                    <div style="color: var(--secondary); font-weight: 600;">${exp.company}</div>
                    <div style="font-size: 12px; color: #666; margin: 4px 0;">${exp.period}</div>
                    <div style="font-size: 13px; line-height: 1.4;">${exp.description}</div>
                `;
                experiencesGrid.appendChild(expElement);
            });
        }

        // Ø¥Ø¶Ø§ÙØ© ØªØ¹Ù„ÙŠÙ…
        function addEducation() {
            const degree = document.getElementById('eduDegree').value;
            const institution = document.getElementById('eduInstitution').value;
            const year = document.getElementById('eduYear').value;
            
            if (!degree || !institution) return;

            const education = { degree, institution, year, id: Date.now() };
            cvData.education.push(education);
            
            updateEducationList();
            updateEducationPreview();
            
            // Ù…Ø³Ø­ Ø§Ù„Ø­Ù‚ÙˆÙ„
            document.getElementById('eduDegree').value = '';
            document.getElementById('eduInstitution').value = '';
            document.getElementById('eduYear').value = '';
        }

        // Ø­Ø°Ù ØªØ¹Ù„ÙŠÙ…
        function removeEducation(id) {
            cvData.education = cvData.education.filter(edu => edu.id !== id);
            updateEducationList();
            updateEducationPreview();
        }

        // ØªØ­Ø¯ÙŠØ« Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„ØªØ¹Ù„ÙŠÙ…
        function updateEducationList() {
            const educationList = document.getElementById('educationList');
            educationList.innerHTML = '';
            cvData.education.forEach(edu => {
                const eduItem = document.createElement('div');
                eduItem.className = 'chip';
                eduItem.innerHTML = `
                    <span><i class="fas fa-grip-vertical drag-handle"></i> ${edu.degree} - ${edu.institution}</span>
                    <button class="btn dan" onclick="removeEducation(${edu.id})">Ã—</button>
                `;
                educationList.appendChild(eduItem);
            });
            
            // ØªÙØ¹ÙŠÙ„ Ø§Ù„Ø³Ø­Ø¨ ÙˆØ§Ù„Ø¥ÙÙ„Ø§Øª
            new Sortable(educationList, {
                animation: 150,
                ghostClass: 'sortable-ghost',
                chosenClass: 'sortable-chosen',
                dragClass: 'sortable-drag',
                handle: '.drag-handle',
                onEnd: function(evt) {
                    const item = cvData.education.splice(evt.oldIndex, 1)[0];
                    cvData.education.splice(evt.newIndex, 0, item);
                    updateEducationPreview();
                }
            });
        }

        // ØªØ­Ø¯ÙŠØ« Ù…Ø¹Ø§ÙŠÙ†Ø© Ø§Ù„ØªØ¹Ù„ÙŠÙ…
        function updateEducationPreview() {
            const educationGrid = document.getElementById('educationGrid');
            const layout = document.getElementById('educationLayout').value;
            
            educationGrid.innerHTML = '';
            educationGrid.className = layout === 'horizontal' ? 'grid-layout' : '';
            
            cvData.education.forEach(edu => {
                const eduElement = document.createElement('div');
                eduElement.className = layout === 'horizontal' ? 'education-item' : '';
                eduElement.style.marginBottom = layout === 'vertical' ? '16px' : '0';
                eduElement.innerHTML = `
                    <div style="font-weight: bold; color: var(--heading);">${edu.degree}</div>
                    <div style="color: var(--secondary); font-weight: 600;">${edu.institution}</div>
                    <div style="font-size: 12px; color: #666; margin: 4px 0;">${edu.year}</div>
                `;
                educationGrid.appendChild(eduElement);
            });
        }

        // Ø¥Ø¶Ø§ÙØ© Ù„ØºØ©
        function addLanguage() {
            const name = document.getElementById('langName').value;
            const level = document.getElementById('langLevel').value;
            
            if (!name) return;

            const language = { name, level, id: Date.now() };
            cvData.languages.push(language);
            
            updateLanguagesList();
            updateLanguagesPreview();
            
            // Ù…Ø³Ø­ Ø§Ù„Ø­Ù‚ÙˆÙ„
            document.getElementById('langName').value = '';
            document.getElementById('langLevel').value = 'Ù…Ø¨ØªØ¯Ø¦';
        }

        // Ø­Ø°Ù Ù„ØºØ©
        function removeLanguage(id) {
            cvData.languages = cvData.languages.filter(lang => lang.id !== id);
            updateLanguagesList();
            updateLanguagesPreview();
        }

        // ØªØ­Ø¯ÙŠØ« Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù„ØºØ§Øª
        function updateLanguagesList() {
            const languagesList = document.getElementById('languagesList');
            languagesList.innerHTML = '';
            cvData.languages.forEach(lang => {
                const langItem = document.createElement('div');
                langItem.className = 'chip';
                langItem.innerHTML = `
                    <span><i class="fas fa-grip-vertical drag-handle"></i> ${lang.name} - ${lang.level}</span>
                    <button class="btn dan" onclick="removeLanguage(${lang.id})">Ã—</button>
                `;
                languagesList.appendChild(langItem);
            });
            
            // ØªÙØ¹ÙŠÙ„ Ø§Ù„Ø³Ø­Ø¨ ÙˆØ§Ù„Ø¥ÙÙ„Ø§Øª
            new Sortable(languagesList, {
                animation: 150,
                ghostClass: 'sortable-ghost',
                chosenClass: 'sortable-chosen',
                dragClass: 'sortable-drag',
                handle: '.drag-handle',
                onEnd: function(evt) {
                    const item = cvData.languages.splice(evt.oldIndex, 1)[0];
                    cvData.languages.splice(evt.newIndex, 0, item);
                    updateLanguagesPreview();
                }
            });
        }

        // ØªØ­Ø¯ÙŠØ« Ù…Ø¹Ø§ÙŠÙ†Ø© Ø§Ù„Ù„ØºØ§Øª
        function updateLanguagesPreview() {
            const languagesGrid = document.getElementById('languagesGrid');
            languagesGrid.innerHTML = '';
            
            cvData.languages.forEach(lang => {
                const langSpan1 = document.createElement('span');
                langSpan1.textContent = lang.name;
                const langSpan2 = document.createElement('span');
                langSpan2.textContent = lang.level;
                languagesGrid.appendChild(langSpan1);
                languagesGrid.appendChild(langSpan2);
            });
        }

        // Ø¥Ø¶Ø§ÙØ© Ù‡ÙˆØ§ÙŠØ©
        function addHobby() {
            const name = document.getElementById('hobbyName').value;
            const icon = document.getElementById('hobbyIcon').value;
            const description = document.getElementById('hobbyDescription').value;
            
            if (!name) return;

            const hobby = { name, icon, description, id: Date.now() };
            cvData.hobbies.push(hobby);
            
            updateHobbiesList();
            updateHobbiesPreview();
            
            // Ù…Ø³Ø­ Ø§Ù„Ø­Ù‚ÙˆÙ„
            document.getElementById('hobbyName').value = '';
            document.getElementById('hobbyIcon').value = '';
            document.getElementById('hobbyDescription').value = '';
        }

        // Ø­Ø°Ù Ù‡ÙˆØ§ÙŠØ©
        function removeHobby(id) {
            cvData.hobbies = cvData.hobbies.filter(hobby => hobby.id !== id);
            updateHobbiesList();
            updateHobbiesPreview();
        }

        // ØªØ­Ø¯ÙŠØ« Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù‡ÙˆØ§ÙŠØ§Øª
        function updateHobbiesList() {
            const hobbiesList = document.getElementById('hobbiesList');
            hobbiesList.innerHTML = '';
            cvData.hobbies.forEach(hobby => {
                const hobbyItem = document.createElement('div');
                hobbyItem.className = 'chip';
                hobbyItem.innerHTML = `
                    <span><i class="fas fa-grip-vertical drag-handle"></i> ${hobby.icon} ${hobby.name}</span>
                    <button class="btn dan" onclick="removeHobby(${hobby.id})">Ã—</button>
                `;
                hobbiesList.appendChild(hobbyItem);
            });
            
            // ØªÙØ¹ÙŠÙ„ Ø§Ù„Ø³Ø­Ø¨ ÙˆØ§Ù„Ø¥ÙÙ„Ø§Øª
            new Sortable(hobbiesList, {
                animation: 150,
                ghostClass: 'sortable-ghost',
                chosenClass: 'sortable-chosen',
                dragClass: 'sortable-drag',
                handle: '.drag-handle',
                onEnd: function(evt) {
                    const item = cvData.hobbies.splice(evt.oldIndex, 1)[0];
                    cvData.hobbies.splice(evt.newIndex, 0, item);
                    updateHobbiesPreview();
                }
            });
        }

        // ØªØ­Ø¯ÙŠØ« Ù…Ø¹Ø§ÙŠÙ†Ø© Ø§Ù„Ù‡ÙˆØ§ÙŠØ§Øª
        function updateHobbiesPreview() {
            const hobbiesGrid = document.getElementById('hobbiesGrid');
            const displayType = document.getElementById('hobbiesDisplay').value;
            
            hobbiesGrid.innerHTML = '';
            
            if (displayType === 'tags') {
                cvData.hobbies.forEach(hobby => {
                    const hobbyElement = document.createElement('div');
                    hobbyElement.className = 'tag';
                    hobbyElement.innerHTML = `
                        <span>${hobby.icon}</span>
                        <span>${hobby.name}</span>
                    `;
                    hobbiesGrid.appendChild(hobbyElement);
                });
            } else if (displayType === 'list') {
                const listElement = document.createElement('div');
                listElement.className = 'kv';
                cvData.hobbies.forEach(hobby => {
                    const iconSpan = document.createElement('span');
                    iconSpan.textContent = hobby.icon;
                    const nameSpan = document.createElement('span');
                    nameSpan.textContent = hobby.name;
                    listElement.appendChild(iconSpan);
                    listElement.appendChild(nameSpan);
                });
                hobbiesGrid.appendChild(listElement);
            } else if (displayType === 'cards') {
                hobbiesGrid.style.display = 'grid';
                hobbiesGrid.style.gridTemplateColumns = 'repeat(auto-fit, minmax(120px, 1fr))';
                hobbiesGrid.style.gap = '8px';
                cvData.hobbies.forEach(hobby => {
                    const hobbyElement = document.createElement('div');
                    hobbyElement.style.cssText = `
                        background: #f8fafc;
                        border: var(--card-border);
                        border-radius: var(--card-radius);
                        padding: var(--card-pad);
                        text-align: center;
                        font-size: 12px;
                    `;
                    hobbyElement.innerHTML = `
                        <div style="font-size: 16px; margin-bottom: 4px;">${hobby.icon}</div>
                        <div style="font-weight: bold; color: var(--heading);">${hobby.name}</div>
                        ${hobby.description ? `<div style="font-size: 10px; color: #666; margin-top: 2px;">${hobby.description}</div>` : ''}
                    `;
                    hobbiesGrid.appendChild(hobbyElement);
                });
            }
        }

        // Ø¥Ø¶Ø§ÙØ© Ø¨ÙŠØ§Ù†Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ©
        function addExtraData() {
            const sectionName = document.getElementById('extraSectionName').value;
            const title = document.getElementById('extraTitle').value;
            const details = document.getElementById('extraDetails').value;
            const date = document.getElementById('extraDate').value;
            const icon = document.getElementById('extraIcon').value;
            
            if (!sectionName || !title) return;

            if (!cvData.extraSections[sectionName]) {
                cvData.extraSections[sectionName] = [];
            }

            const extraItem = { title, details, date, icon, id: Date.now() };
            cvData.extraSections[sectionName].push(extraItem);
            
            updateExtraDataList();
            updateExtraDataPreview();
            
            // Ù…Ø³Ø­ Ø§Ù„Ø­Ù‚ÙˆÙ„
            document.getElementById('extraTitle').value = '';
            document.getElementById('extraDetails').value = '';
            document.getElementById('extraDate').value = '';
            document.getElementById('extraIcon').value = '';
        }

        // Ø­Ø°Ù Ø¨ÙŠØ§Ù†Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ©
        function removeExtraData(sectionName, id) {
            cvData.extraSections[sectionName] = cvData.extraSections[sectionName].filter(item => item.id !== id);
            if (cvData.extraSections[sectionName].length === 0) {
                delete cvData.extraSections[sectionName];
            }
            updateExtraDataList();
            updateExtraDataPreview();
        }

        // ØªØ­Ø¯ÙŠØ« Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¥Ø¶Ø§ÙÙŠØ©
        function updateExtraDataList() {
            const extraDataList = document.getElementById('extraDataList');
            extraDataList.innerHTML = '';
            
            Object.keys(cvData.extraSections).forEach(sectionName => {
                cvData.extraSections[sectionName].forEach(item => {
                    const extraItem = document.createElement('div');
                    extraItem.className = 'chip';
                    extraItem.innerHTML = `
                        <span><i class="fas fa-grip-vertical drag-handle"></i> ${sectionName}: ${item.title}</span>
                        <button class="btn dan" onclick="removeExtraData('${sectionName}', ${item.id})">Ã—</button>
                    `;
                    extraDataList.appendChild(extraItem);
                });
            });
        }

        // ØªØ­Ø¯ÙŠØ« Ù…Ø¹Ø§ÙŠÙ†Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¥Ø¶Ø§ÙÙŠØ©
        function updateExtraDataPreview() {
            const extraSections = document.getElementById('extraSections');
            extraSections.innerHTML = '';
            
            const displayType = document.getElementById('extraDataDisplay').value;
            
            Object.keys(cvData.extraSections).forEach(sectionName => {
                const sectionElement = document.createElement('div');
                sectionElement.className = 'section';
                sectionElement.innerHTML = `<h3>${sectionName}</h3>`;
                
                const itemsContainer = document.createElement('div');
                
                // ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø¹Ø±Ø¶ Ø§Ù„Ø´Ø¨ÙƒÙŠ Ø¥Ø°Ø§ ØªÙ… Ø§Ø®ØªÙŠØ§Ø±Ù‡
                if (displayType === 'grid') {
                    itemsContainer.className = 'grid-layout';
                }
                
                cvData.extraSections[sectionName].forEach(item => {
                    const itemElement = document.createElement('div');
                    
                    if (displayType === 'grid') {
                        itemElement.className = 'extra-data-item';
                        itemElement.innerHTML = `
                            <div style="font-weight: bold; color: var(--heading); margin-bottom: 8px;">
                                ${item.icon ? item.icon + ' ' : ''}${item.title}
                            </div>
                            ${item.details ? `<div style="color: var(--secondary-text-color); font-size: 13px; margin-bottom: 6px;">${item.details}</div>` : ''}
                            ${item.date ? `<div style="font-size: 11px; color: #888; font-weight: 600;">${item.date}</div>` : ''}
                        `;
                    } else {
                        itemElement.style.marginBottom = '16px';
                        itemElement.innerHTML = `
                            <div style="font-weight: bold; color: var(--heading);">
                                ${item.icon ? item.icon + ' ' : ''}${item.title}
                            </div>
                            ${item.details ? `<div style="color: var(--secondary); font-weight: 600;">${item.details}</div>` : ''}
                            ${item.date ? `<div style="font-size: 12px; color: #666; margin: 4px 0;">${item.date}</div>` : ''}
                        `;
                    }
                    
                    itemsContainer.appendChild(itemElement);
                });
                
                sectionElement.appendChild(itemsContainer);
                extraSections.appendChild(sectionElement);
            });
        }

        // ØªØ·Ø¨ÙŠÙ‚ Ù„ÙˆØ­Ø© Ø§Ù„Ø£Ù„ÙˆØ§Ù†
        function applyColorPalette(primary, secondary) {
            document.getElementById('primaryColor').value = primary;
            document.getElementById('secondaryColor').value = secondary;
            updateColors();
        }

        // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø£Ù„ÙˆØ§Ù†
        function updateColors() {
            const primary = document.getElementById('primaryColor').value;
            const secondary = document.getElementById('secondaryColor').value;
            
            document.documentElement.style.setProperty('--primary', primary);
            document.documentElement.style.setProperty('--secondary', secondary);
        }

        // ØªØ­Ø¯ÙŠØ« Ø£Ù„ÙˆØ§Ù† Ø§Ù„Ø®Ø·ÙˆØ·
        function updateFontColors() {
            const nameColor = document.getElementById('nameColor').value;
            const headingColor = document.getElementById('headingColor').value;
            const textColor = document.getElementById('textColor').value;
            const secondaryTextColor = document.getElementById('secondaryTextColor').value;
            
            document.documentElement.style.setProperty('--name-color', nameColor);
            document.documentElement.style.setProperty('--heading-color', headingColor);
            document.documentElement.style.setProperty('--text-color', textColor);
            document.documentElement.style.setProperty('--secondary-text-color', secondaryTextColor);
        }

        // ØªØ­Ø¯ÙŠØ« Ù†ÙˆØ¹ Ø§Ù„Ø®Ø·
        function updateFontFamily() {
            const fontFamily = document.getElementById('fontFamily').value;
            document.documentElement.style.setProperty('--font-body', `"${fontFamily}", sans-serif`);
            document.documentElement.style.setProperty('--font-head', `"${fontFamily}", sans-serif`);
            document.documentElement.style.setProperty('--font-name', `"${fontFamily}", sans-serif`);
        }

        // ØªØ­Ø¯ÙŠØ« Ø£Ø­Ø¬Ø§Ù… Ø§Ù„Ø®Ø·ÙˆØ·
        function updateFontSizes() {
            const nameFont = document.getElementById('nameFont').value;
            const headingFont = document.getElementById('headingFont').value;
            const baseFont = document.getElementById('baseFont').value;
            
            document.getElementById('nameFontValue').textContent = nameFont + 'px';
            document.getElementById('headingFontValue').textContent = headingFont + 'px';
            document.getElementById('baseFontValue').textContent = baseFont + 'px';
            
            document.documentElement.style.setProperty('--name-font', nameFont + 'px');
            document.documentElement.style.setProperty('--h3-font', headingFont + 'px');
            document.documentElement.style.setProperty('--base-font', baseFont + 'px');
        }

        // ØªØ­Ø¯ÙŠØ« Ø§Ù„ØªØ¨Ø§Ø¹Ø¯
        function updateSpacing() {
            const sectionGap = document.getElementById('sectionGap').value;
            const itemGap = document.getElementById('itemGap').value;
            const cardPadding = document.getElementById('cardPadding').value;
            
            document.getElementById('sectionGapValue').textContent = sectionGap + 'px';
            document.getElementById('itemGapValue').textContent = itemGap + 'px';
            document.getElementById('cardPaddingValue').textContent = cardPadding + 'px';
            
            document.documentElement.style.setProperty('--section-gap', sectionGap + 'px');
            document.documentElement.style.setProperty('--item-gap', itemGap + 'px');
            document.documentElement.style.setProperty('--card-pad', cardPadding + 'px');
        }

        // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø­Ø¯ÙˆØ¯
        function updateBorders() {
            const borderWidth = document.getElementById('borderWidth').value;
            const borderColor = document.getElementById('borderColor').value;
            const borderRadius = document.getElementById('borderRadius').value;
            
            document.getElementById('borderWidthValue').textContent = borderWidth + 'px';
            document.getElementById('borderRadiusValue').textContent = borderRadius + 'px';
            
            document.documentElement.style.setProperty('--card-border', `${borderWidth}px solid ${borderColor}`);
            document.documentElement.style.setProperty('--card-radius', borderRadius + 'px');
        }

        // Ø¥Ø¸Ù‡Ø§Ø± Ù†Ø§ÙØ°Ø© Ø§Ù„Ø¯ÙØ¹
        function showPaymentModal() {
            document.getElementById('paymentModal').classList.remove('hidden');
        }

        // Ø¥Ø®ÙØ§Ø¡ Ù†Ø§ÙØ°Ø© Ø§Ù„Ø¯ÙØ¹
        function hidePaymentModal() {
            document.getElementById('paymentModal').classList.add('hidden');
        }

        // ØªØ­Ù…ÙŠÙ„ PDF Ù…Ø¬Ø§Ù†ÙŠ
        function downloadPDF() {
            hidePaymentModal();
            generatePDF();
        }

        // Ø§Ù„Ø¯ÙØ¹ ÙˆØªØ­Ù…ÙŠÙ„ PDF
        function payAndDownload() {
            hidePaymentModal();
            generatePDF();
            // ÙØªØ­ ØµÙØ­Ø© Ø§Ù„Ø¯ÙØ¹
            window.open('https://hex-store.com/QzvEwqD', '_blank');
        }

        // ØªÙˆÙ„ÙŠØ¯ PDF
        function generatePDF() {
            try {
                // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØªØ­Ù…ÙŠÙ„ Ù…ÙƒØªØ¨Ø© jsPDF
                if (typeof jspdf === 'undefined' || typeof jspdf.jsPDF === 'undefined') {
                    console.error('Ù…ÙƒØªØ¨Ø© jsPDF ØºÙŠØ± Ù…Ø­Ù…Ù„Ø©. Ø¬Ø§Ø±ÙŠ Ø¥Ø¹Ø§Ø¯Ø© ØªØ­Ù…ÙŠÙ„Ù‡Ø§...');
                    
                    // Ù…Ø­Ø§ÙˆÙ„Ø© ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…ÙƒØªØ¨Ø© Ù…Ø±Ø© Ø£Ø®Ø±Ù‰
                    const script = document.createElement('script');
                    script.src = 'https://cdn.jsdelivr.net/npm/jspdf@2.5.1/dist/jspdf.umd.min.js';
                    script.onload = function() {
                        console.log('ØªÙ… ØªØ­Ù…ÙŠÙ„ Ù…ÙƒØªØ¨Ø© jsPDF Ø¨Ù†Ø¬Ø§Ø­. Ø¬Ø§Ø±ÙŠ Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø©...');
                        setTimeout(generatePDF, 500); // Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ø¨Ø¹Ø¯ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…ÙƒØªØ¨Ø©
                    };
                    script.onerror = function() {
                        console.error('ÙØ´Ù„ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ù…ÙƒØªØ¨Ø© jsPDF');
                        alert('Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ù…ÙƒØªØ¨Ø© jsPDF. ÙŠØ±Ø¬Ù‰ ØªØ­Ø¯ÙŠØ« Ø§Ù„ØµÙØ­Ø© ÙˆØ§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ù…Ø±Ø© Ø£Ø®Ø±Ù‰.');
                    };
                    document.head.appendChild(script);
                    return;
                }
                
                const element = document.getElementById('cvPreview');
                
                // Ø¥Ù†Ø´Ø§Ø¡ Ù†Ø³Ø®Ø© Ù…Ø¤Ù‚ØªØ© Ù„Ù„Ø·Ø¨Ø§Ø¹Ø©
                const printElement = element.cloneNode(true);
                printElement.style.transform = 'none';
                printElement.style.boxShadow = 'none';
                printElement.style.borderRadius = '0';
                printElement.style.width = '210mm';
                printElement.style.height = '297mm';
                printElement.style.overflow = 'hidden';
                printElement.style.position = 'absolute';
                printElement.style.left = '-9999px';
                printElement.style.top = '-9999px';
                
                // Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù†Ø³Ø®Ø© Ø§Ù„Ù…Ø¤Ù‚ØªØ© Ù„Ù„ØµÙØ­Ø©
                document.body.appendChild(printElement);
                
                html2canvas(printElement, {
                    scale: 2,
                    useCORS: true,
                    allowTaint: true,
                    width: 794, // Ø¹Ø±Ø¶ A4 Ø¨Ø§Ù„Ø¨ÙƒØ³Ù„ (210mm)
                    height: 1123, // Ø§Ø±ØªÙØ§Ø¹ A4 Ø¨Ø§Ù„Ø¨ÙƒØ³Ù„ (297mm)
                    backgroundColor: '#ffffff',
                    logging: false,
                    onclone: function(clonedDoc) {
                        // ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ù†Ø³Ø®Ø© Ø§Ù„Ù…Ø³ØªÙ†Ø³Ø®Ø© Ù‚Ø¨Ù„ Ø§Ù„ØªØµÙˆÙŠØ±
                        const clonedElement = clonedDoc.getElementById('cvPreview');
                        if (clonedElement) {
                            // ØªØ£ÙƒØ¯ Ù…Ù† Ø£Ù† Ø§Ù„Ø£Ø¨Ø¹Ø§Ø¯ ØµØ­ÙŠØ­Ø©
                            const aside = clonedElement.querySelector('.aside');
                            if (aside) {
                                aside.style.minHeight = '297mm';
                                aside.style.height = '100%';
                            }
                        }
                    }
                }).then(function(canvas) {
                    // Ø¥Ø²Ø§Ù„Ø© Ø§Ù„Ù†Ø³Ø®Ø© Ø§Ù„Ù…Ø¤Ù‚ØªØ©
                    document.body.removeChild(printElement);
                    
                    try {
                        const imgData = canvas.toDataURL('image/jpeg', 0.95);
                        
                        // Ø¥Ù†Ø´Ø§Ø¡ ÙƒØ§Ø¦Ù† PDF
                        const { jsPDF } = window.jspdf;
                        const pdf = new jsPDF('p', 'mm', 'a4');
                        
                        // Ø¥Ø¶Ø§ÙØ© Ø§Ù„ØµÙˆØ±Ø© ÙƒØµÙØ­Ø© ÙˆØ§Ø­Ø¯Ø© ÙÙ‚Ø·
                        pdf.addImage(imgData, 'JPEG', 0, 0, 210, 297);
                        
                        // Ø­ÙØ¸ Ø§Ù„Ù…Ù„Ù
                        pdf.save('Ø³ÙŠØ±ØªÙŠ_Ø§Ù„Ø°Ø§ØªÙŠØ©.pdf');
                    } catch (err) {
                        console.error('Ø®Ø·Ø£ ÙÙŠ Ø¥Ù†Ø´Ø§Ø¡ Ù…Ù„Ù PDF:', err);
                        alert('Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ Ø¥Ù†Ø´Ø§Ø¡ Ù…Ù„Ù PDF. ÙŠØ±Ø¬Ù‰ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ù…Ø±Ø© Ø£Ø®Ø±Ù‰.');
                    }
                }).catch(function(error) {
                    // Ø¥Ø²Ø§Ù„Ø© Ø§Ù„Ù†Ø³Ø®Ø© Ø§Ù„Ù…Ø¤Ù‚ØªØ© ÙÙŠ Ø­Ø§Ù„Ø© Ø§Ù„Ø®Ø·Ø£
                    if (document.body.contains(printElement)) {
                        document.body.removeChild(printElement);
                    }
                    console.error('Ø®Ø·Ø£ ÙÙŠ ØªØµÙˆÙŠØ± Ø§Ù„Ù…Ø³ØªÙ†Ø¯:', error);
                    alert('Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ ØªØµÙˆÙŠØ± Ø§Ù„Ù…Ø³ØªÙ†Ø¯. ÙŠØ±Ø¬Ù‰ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ù…Ø±Ø© Ø£Ø®Ø±Ù‰.');
                });
            } catch (error) {
                console.error('Ø®Ø·Ø£ Ø¹Ø§Ù… ÙÙŠ ØªÙˆÙ„ÙŠØ¯ PDF:', error);
                alert('Ø­Ø¯Ø« Ø®Ø·Ø£ ØºÙŠØ± Ù…ØªÙˆÙ‚Ø¹. ÙŠØ±Ø¬Ù‰ ØªØ­Ø¯ÙŠØ« Ø§Ù„ØµÙØ­Ø© ÙˆØ§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ù…Ø±Ø© Ø£Ø®Ø±Ù‰.');
            }
        }

        // Ø¥ØºÙ„Ø§Ù‚ Ø§Ù„Ù†Ø§ÙØ°Ø© Ø¹Ù†Ø¯ Ø§Ù„Ù†Ù‚Ø± Ø®Ø§Ø±Ø¬Ù‡Ø§
        document.getElementById('paymentModal').addEventListener('click', function(e) {
            if (e.target === this) {
                hidePaymentModal();
            }
        });

        // Ø¯ÙˆØ§Ù„ Ù‚Ø³Ù… Ø§Ù„ØªØ±ØªÙŠØ¨
        let sectionOrder = ['contact', 'skills', 'languages', 'hobbies', 'summary', 'experiences', 'education', 'extra'];
        
        let sectionLocation = {
            contact: 'sidebar',
            skills: 'sidebar', 
            languages: 'sidebar',
            hobbies: 'sidebar',
            summary: 'main',
            experiences: 'main',
            education: 'main',
            extra: 'main'
        };

        let sectionVisibility = {
            contact: true,
            skills: true,
            languages: true,
            hobbies: true,
            summary: true,
            experiences: true,
            education: true,
            extra: true,
            header: true
        };

        // ØªØ¨Ø¯ÙŠÙ„ Ø¥Ø¸Ù‡Ø§Ø±/Ø¥Ø®ÙØ§Ø¡ Ø§Ù„Ù‚Ø³Ù…
        function toggleSection(sectionName, isVisible) {
            sectionVisibility[sectionName] = isVisible;
            updateSectionsDisplay();
        }

        // ØªØ¨Ø¯ÙŠÙ„ Ø¥Ø¸Ù‡Ø§Ø±/Ø¥Ø®ÙØ§Ø¡ Ù‚Ø³Ù… Ø§Ù„Ø±Ø£Ø³
        function toggleHeaderSection() {
            const hideHeader = document.getElementById('hideHeader').checked;
            sectionVisibility.header = !hideHeader;
            updateSectionsDisplay();
        }

        // ØªØ­Ø¯ÙŠØ« Ø¹Ø±Ø¶ Ø§Ù„Ø´Ø±ÙŠØ· Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠ
        function updateSidebarWidth() {
            const width = document.getElementById('sidebarWidth').value;
            document.documentElement.style.setProperty('--aside-w', width);
        }

        // ØªØ­Ø¯ÙŠØ« Ø¹Ø±Ø¶ Ø§Ù„Ø£Ù‚Ø³Ø§Ù…
        function updateSectionsDisplay() {
            // ØªØ­Ø¯ÙŠØ« ØªØ±ØªÙŠØ¨ Ù‚Ø³Ù… Ø§Ù„Ø±Ø£Ø³
            const headerSection = document.getElementById('headerSection');
            if (headerSection) {
                headerSection.style.display = sectionVisibility.header ? 'flex' : 'none';
                headerSection.style.order = sectionVisibility.header ? '0' : '999';
            }
            
            // ØªØ±ØªÙŠØ¨ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ù‚Ø³Ø§Ù… Ø­Ø³Ø¨ Ù…ÙˆÙ‚Ø¹Ù‡Ø§ Ø§Ù„Ø¬Ø¯ÙŠØ¯
            let sidebarOrder = 1;
            let mainOrder = 0;
            
            sectionOrder.forEach((sectionName) => {
                const sectionElement = getSectionElement(sectionName);
                if (sectionElement) {
                    // ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ø±Ø¤ÙŠØ©
                    sectionElement.style.display = sectionVisibility[sectionName] ? 'flex' : 'none';
                    
                    // ØªØ­Ø¯ÙŠØ¯ Ø§Ù„ØªØ±ØªÙŠØ¨ Ø­Ø³Ø¨ Ø§Ù„Ù…ÙˆÙ‚Ø¹
                    if (sectionVisibility[sectionName]) {
                        if (sectionLocation[sectionName] === 'sidebar') {
                            sectionElement.style.order = sidebarOrder.toString();
                            sidebarOrder++;
                        } else {
                            sectionElement.style.order = mainOrder.toString();
                            mainOrder++;
                        }
                    } else {
                        sectionElement.style.order = '999';
                    }
                    
                    // Ù†Ù‚Ù„ Ø§Ù„Ø¹Ù†ØµØ± Ø¥Ù„Ù‰ Ø§Ù„Ø­Ø§ÙˆÙŠØ© Ø§Ù„Ù…Ù†Ø§Ø³Ø¨Ø©
                    const targetContainer = sectionLocation[sectionName] === 'sidebar' ? 
                        document.querySelector('.aside') : 
                        document.querySelector('.main');
                    
                    if (sectionElement.parentNode !== targetContainer) {
                        targetContainer.appendChild(sectionElement);
                    }
                }
            });
        }
        
        // Ø¯Ø§Ù„Ø© Ù…Ø³Ø§Ø¹Ø¯Ø© Ù„Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø¹Ù†ØµØ± Ø§Ù„Ù‚Ø³Ù…
        function getSectionElement(sectionName) {
            if (sectionName === 'summary') {
                return document.getElementById('summarySection');
            } else if (sectionName === 'experiences') {
                return document.getElementById('experiencesSection');
            } else if (sectionName === 'education') {
                return document.getElementById('educationSection');
            } else if (sectionName === 'extra') {
                return document.getElementById('extraSections');
            } else {
                return document.getElementById(sectionName + 'Section');
            }
        }
        
        // ØªØºÙŠÙŠØ± Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ù‚Ø³Ù…
        function changeSectionLocation(sectionName, newLocation) {
            sectionLocation[sectionName] = newLocation;
            updateSectionsDisplay();
        }

        // Ø¥Ø®ÙØ§Ø¡/Ø¥Ø¸Ù‡Ø§Ø± Ø§Ù„Ø£Ù‚Ø³Ø§Ù…
        function toggleSection(sectionName) {
            const sectionElement = document.getElementById(sectionName + 'Section');
            if (sectionElement) {
                const isHidden = sectionElement.style.display === 'none';
                sectionElement.style.display = isHidden ? 'block' : 'none';
            }
        }

        // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† ØªØ±ØªÙŠØ¨ Ø§Ù„Ø£Ù‚Ø³Ø§Ù…
        function resetSectionsOrder() {
            sectionOrder = ['contact', 'skills', 'languages', 'hobbies', 'summary', 'experiences', 'education', 'extra'];
            
            sectionLocation = {
                contact: 'sidebar',
                skills: 'sidebar', 
                languages: 'sidebar',
                hobbies: 'sidebar',
                summary: 'main',
                experiences: 'main',
                education: 'main',
                extra: 'main'
            };
            
            sectionVisibility = {
                contact: true,
                skills: true,
                languages: true,
                hobbies: true,
                summary: true,
                experiences: true,
                education: true,
                extra: true,
                header: true
            };
            
            // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„ÙˆØ§Ø¬Ù‡Ø©
            document.querySelectorAll('#allSectionsList input[type="checkbox"]').forEach(cb => cb.checked = true);
            document.querySelectorAll('#allSectionsList select').forEach(select => {
                const sectionName = select.closest('.chip').getAttribute('data-section');
                select.value = sectionLocation[sectionName];
            });
            document.getElementById('hideHeader').checked = false;
            document.getElementById('sidebarWidth').value = '280px';
            
            updateSidebarWidth();
            updateSectionsDisplay();
        }

        // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ø¹Ø§ÙŠÙ†Ø© Ø¹Ù†Ø¯ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø©
        document.addEventListener('DOMContentLoaded', function() {
            updatePreview();
            
            // ØªØ­Ø¯ÙŠØ« Ù‚ÙŠÙ… Ø§Ù„Ù…ØªØ²Ù„Ù‚Ø§Øª
            updateFontSizes();
            updateSpacing();
            updateBorders();
            
            // ØªÙØ¹ÙŠÙ„ Ø§Ù„Ø³Ø­Ø¨ ÙˆØ§Ù„Ø¥ÙÙ„Ø§Øª Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø£Ù‚Ø³Ø§Ù… Ø§Ù„Ù…ÙˆØ­Ø¯Ø©
            new Sortable(document.getElementById('allSectionsList'), {
                animation: 150,
                ghostClass: 'sortable-ghost',
                chosenClass: 'sortable-chosen',
                dragClass: 'sortable-drag',
                handle: '.drag-handle',
                onEnd: function(evt) {
                    // ØªØ­Ø¯ÙŠØ« ØªØ±ØªÙŠØ¨ Ø§Ù„Ø£Ù‚Ø³Ø§Ù…
                    const newOrder = [];
                    document.querySelectorAll('#allSectionsList .chip').forEach(chip => {
                        newOrder.push(chip.getAttribute('data-section'));
                    });
                    sectionOrder = newOrder;
                    updateSectionsDisplay();
                }
            });
        });
    </script>
</body>
</html>

